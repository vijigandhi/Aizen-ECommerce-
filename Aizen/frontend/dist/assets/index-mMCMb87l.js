import{r as t,u as B,j as e,G as ue,b as Ce,T as J,t as U,A as oe,d as ne,B as ke,F as Pe,e as _e,f as le,L as H,h as me,i as xe,k as Ee,l as Ae,m as Fe,n as Le,o as ge,p as pe,M as K,q as Q,s as Z,v as X,w as ee,R as se,x as F,y as W,S as fe,z as Ie,C as De,D as Me,E as qe,H as Te}from"./react-B2-EXKCM.js";import{u as P,C as $e,S as Oe,v as Ue}from"./vendor-CllKNJCv.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))x(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const o of f.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&x(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function x(r){if(r.ep)return;r.ep=!0;const f=n(r);fetch(r.href,f)}})();const ce=()=>{const[s,i]=t.useState(null),[n,x]=t.useState(null),[r,f]=t.useState(null),[o,d]=t.useState(null),u=B(),N=async()=>{var c;const h=localStorage.getItem("token");if(!h){d("Token not found. Please log in again.");return}try{const a=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${h}`}});console.log("API Response:",a.data),a.data.status==="success"?(i(a.data.user.id),x(a.data.user.email),f(a.data.user.role_id),console.log("Profile Details:",a.data.user)):d(a.data.message)}catch(a){console.error("Error fetching user details:",((c=a.response)==null?void 0:c.data)||a.message),d("Error fetching user details")}},w=async h=>{const{credential:c}=h;if(!c){console.error("No credential received"),U.error("No credential received from Google.");return}console.log("Sending credential:",c);try{const a=new FormData;a.append("key",c);const m=await P.post("http://localhost:8000/controller/signup/googlesignup.php",a);if(console.log("Response:",m.data),m.status===200){const{jwt:l,message:y,isNewUser:S,emailExists:p}=m.data;p?(U.error("Email already registered. Please log in."),u("/login")):l?(localStorage.setItem("token",l),S?(U.success("Registration successful! Please log in."),u("/login")):(U.success("Login successful!"),N(),u("/home"))):U.error("Login failed. JWT token is missing.")}else U.error(m.data.message)}catch(a){console.error("Error:",a.message),U.error("An error occurred during registration: "+a.message)}},b=h=>{U.error("Google login failed. Please try again."),console.error("Google login failed:",h)};return e.jsxs("div",{className:"flex items-center justify-center mt-2 flex-wrap",children:[e.jsx(ue,{clientId:"995387049773-1l8a7e3q87cp7d38i18lfr09au8027rr.apps.googleusercontent.com",children:e.jsx(Ce,{onSuccess:w,onError:b,render:h=>e.jsx("button",{onClick:h.onClick,disabled:h.disabled,className:"hover:scale-105 ease-in-out duration-300 shadow-lg p-1 rounded-lg m-1",children:e.jsx("img",{className:"max-w-[20px]",src:"https://ucarecdn.com/8f25a2ba-bdcf-4ff1-b596-088f330416ef/",alt:"Google"})})})}),e.jsx(J,{})]})},Re="/assets/login-CDvbJqqI.png",ze=()=>{const[s,i]=t.useState({email:"",password:""}),[n,x]=t.useState({}),[r,f]=t.useState(""),[o,d]=t.useState(!1),u=B(),N=l=>{console.log("Google sign-up successful:",l)},w=()=>{u("/")},b=l=>/\S+@\S+\.\S+/.test(l),h=()=>{const l={};return s.email?b(s.email)||(l.email="Email address is invalid"):l.email="Email is required",s.password||(l.password="Password is required"),l},c=l=>{const{id:y,value:S}=l.target;i({...s,[y]:S}),y==="email"&&(b(S)?x(p=>{const{email:g,...v}=p;return v}):x(p=>({...p,email:"Email address is invalid"})))},a=async l=>{l.preventDefault();const y=h();if(Object.keys(y).length>0)x(y),setTimeout(()=>{x({})},3e3);else try{const S=await P.post("http://localhost:8000/controller/signup/login.php",s,{headers:{"Content-Type":"application/json"}});S.data.status==="success"?(U.success("Login successful!"),f(""),i({email:"",password:""}),localStorage.setItem("token",S.data.token),localStorage.setItem("id",S.data.id),u("/home")):x({password:S.data.message||"Login failed. Please check your credentials."})}catch(S){x({password:"An error occurred. Please try again."}),console.error("Error during login:",S)}},m=()=>d(!o);return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-5 lg:px-0 bg-gray-100",children:e.jsxs("div",{className:"flex max-w-5xl w-full bg-white border shadow sm:rounded-lg relative",children:[e.jsxs("div",{className:"w-1/2 p-8 flex flex-col items-center relative",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-6 w-full max-w-sm",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("img",{src:"../../src/assets/a2-logo.png",alt:"Logo",className:"h-12 w-auto cursor-pointer",onClick:w})}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Enter your credentials to log in"}),e.jsxs("form",{onSubmit:a,className:"w-full flex flex-col gap-5 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white",type:"email",id:"email",value:s.email,onChange:c,placeholder:"Enter your email"}),n.email&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white",type:o?"text":"password",id:"password",value:s.password,onChange:c,placeholder:"Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5 cursor-pointer",onClick:m,children:o?e.jsx(oe,{}):e.jsx(ne,{})}),n.password&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.password})]}),e.jsxs("button",{className:"mt-4 tracking-wide font-semibold bg-[#4CAF50] text-gray-100 min-w-[120px] py-2 px-4 rounded-lg hover:bg-[#4CAF50] transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"text-sm",children:"Login"})]}),e.jsx("div",{className:"flex items-center justify-center mt-2 flex-wrap",children:e.jsx(ce,{onSuccess:N})}),e.jsxs("p",{className:"mt-4 text-xs text-gray-600 text-center",children:["Don't have an account yet?"," ",e.jsx("a",{href:"sign",children:e.jsx("span",{className:"text-[#4CAF50] font-semibold",children:"Sign up"})})]})]})]}),e.jsx(J,{})]}),e.jsx("div",{className:"w-1/2",children:e.jsx("img",{src:Re,alt:"Login",className:"w-full h-full object-cover"})})]})})},Be="/assets/sign-CCvN9t4X.png",Ve=()=>{const[s,i]=t.useState({name:"",email:"",password:"",confirmPassword:""}),[n,x]=t.useState({}),[r,f]=t.useState(""),[o,d]=t.useState(!1),[u,N]=t.useState(!1),[w,b]=t.useState(!1),h=B(),c=g=>{console.log("Google sign-up successful:",g)},a=()=>{h("/")},m=()=>{const g={};return s.name||(g.name="Name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(g.email="Email address is invalid"):g.email="Email is required",s.password?s.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",s.password!==s.confirmPassword&&(g.confirmPassword="Passwords do not match"),g},l=g=>{const{id:v,value:k}=g.target;i({...s,[v]:k}),v==="email"&&(k?/\S+@\S+\.\S+/.test(k)?x(E=>({...E,email:""})):x(E=>({...E,email:"Email address is invalid"})):x(E=>({...E,email:"Email is required"})))},y=async g=>{g.preventDefault();const v=m();if(Object.keys(v).length>0){x(v);return}b(!0);try{const k=await P.post("http://localhost:8000/controller/signup/signup.php",s,{headers:{"Content-Type":"application/json"}});let E;if(typeof k.data=="string")try{E=JSON.parse(k.data)}catch(_){console.error("Error parsing JSON response:",_),f("An unexpected error occurred. Please try again.");return}else E=k.data;E.status==="success"?(U.success("Registration successful!"),f(""),i({name:"",email:"",password:"",confirmPassword:""}),b(!1),h("/login")):(f(E.message||"Registration failed. Please try again."),b(!1))}catch(k){console.error("Error during signup:",k),f("An unexpected error occurred. Please try again."),b(!1)}},S=()=>d(!o),p=()=>N(!u);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"flex max-w-5xl w-full bg-white border shadow sm:rounded-lg",children:[e.jsx("div",{className:"w-1/2 p-8 flex flex-col items-center",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-6 w-full max-w-sm",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("img",{src:"../../src/assets/a2-logo.png",alt:"Logo",className:"h-12 w-auto",onClick:a})}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Enter your details to create your account"}),e.jsxs("form",{onSubmit:y,className:"w-full flex flex-col gap-5 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:`w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white ${n.name?"border-red-500":""}`,type:"text",id:"name",value:s.name,onChange:l,placeholder:"Enter your name"}),n.name&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.name})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:`w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white ${n.email?"border-red-500":""}`,type:"email",id:"email",value:s.email,onChange:l,placeholder:"Enter your email"}),n.email&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.email}),r&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:r})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:`w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white ${n.password?"border-red-500":""}`,type:o?"text":"password",id:"password",value:s.password,onChange:l,placeholder:"Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5 cursor-pointer",onClick:S,children:o?e.jsx(oe,{}):e.jsx(ne,{})}),n.password&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.password})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:`w-full px-3 py-2 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white ${n.confirmPassword?"border-red-500":""}`,type:u?"text":"password",id:"confirmPassword",value:s.confirmPassword,onChange:l,placeholder:"Confirm Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5 cursor-pointer",onClick:p,children:u?e.jsx(oe,{}):e.jsx(ne,{})}),n.confirmPassword&&e.jsx("p",{className:"absolute text-red-500 text-xs",children:n.confirmPassword})]}),e.jsxs("button",{type:"submit",className:"mt-4 tracking-wide font-semibold bg-[#4CAF50] text-gray-100 min-w-[120px] py-2 px-4 rounded-lg hover:bg-['#4CAF50'] transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",disabled:w,children:[w?e.jsxs("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{d:"M4 12a8 8 0 0116 0 8 8 0 01-16 0",fill:"none",stroke:"currentColor",strokeWidth:"4"})]}):e.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"text-sm",children:"Sign Up"})]}),e.jsx("div",{className:"flex items-center justify-center mt-2 flex-wrap",children:e.jsx(ce,{onSuccess:c})}),e.jsxs("p",{className:"mt-4 text-xs text-gray-600 text-center",children:["Already have an account?"," ",e.jsx("a",{href:"login",children:e.jsx("span",{className:"text-[#4CAF50] font-semibold",children:"Log in"})})]})]}),e.jsx(J,{})]})}),e.jsx("div",{className:"w-1/2",children:e.jsx("img",{src:Be,alt:"Signup",className:"w-full h-full"})})]})})},Y=({onSearch:s,onStoreChange:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState(!1),[o,d]=t.useState(null),[u,N]=t.useState(""),[w,b]=t.useState(""),[h,c]=t.useState(0),[a,m]=t.useState(null),[l,y]=t.useState(!1),S=t.useRef(null),p=B();t.useEffect(()=>{const C=async()=>{try{const R=await P.get("http://localhost:8000/controller/Admin/getStores.php");x(R.data)}catch(R){console.error("Error fetching store data:",R)}},j=async R=>{const V=localStorage.getItem("token");if(V&&R)try{const te=await P.get("http://localhost:8000/controller/getCartItemsCount.php",{headers:{Authorization:`Bearer ${V}`},params:{user_id:R}});c(te.data.count||0)}catch(te){console.error("Error fetching cart item count:",te)}},L=async()=>{const R=localStorage.getItem("token");if(R){f(!0);try{const V=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${R}`}});d(V.data.user.role_id),m(V.data.user.id),j(V.data.user.id),console.log("role : ",V.data.user.role_id),console.log("user : ",V.data.user.id);const te=setInterval(()=>{j(V.data.user.id)},1e3);return()=>clearInterval(te)}catch(V){console.error("Error fetching user details:",V),d(null)}}else f(!1),d(null)};C(),L()},[]),t.useEffect(()=>{const C=j=>{S.current&&!S.current.contains(j.target)&&y(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=()=>{p("/login")},v=()=>{p("/home")},k=()=>{p("/aizen/all-categories")},E=()=>{p("/about")},_=()=>{y(!l)},T=()=>{p("/profile")},A=()=>{p("/home/cart")},I=()=>{p("/aizen-admin/dashboard")},q=()=>{p("/aizen-seller/dashboard")},D=C=>C==="/home"?location.pathname==="/home"?"text-white font-bold":"text-green-900":C==="/aizen/all-categories"?location.pathname.startsWith("/aizen/all-categories")?"text-white font-bold":"text-green-900":C==="/about"&&location.pathname==="/about"?"text-white font-bold":"text-green-900",$=C=>{const j=C.target.value;N(j),typeof i=="function"?i(j):console.log("Error"),localStorage.setItem("selectedStoreId",j)},O=()=>{s(w)},M=C=>{C.key==="Enter"&&s(w)},z=()=>{localStorage.removeItem("token"),f(!1),d(null),m(null),y(!1),p("/home")};return e.jsx("div",{className:"bg-gradient-to-r from-green-300 to-green-500  shadow-md text-white sticky top-0 left-0 right-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"../../src/assets/a2-logo.png",alt:"Logo",className:"h-12 w-auto",onClick:v})}),e.jsx("div",{className:"relative mx-4",children:e.jsxs("select",{className:"bg-white text-green-900 font-semibold p-2 rounded",onChange:$,value:u,children:[e.jsx("option",{value:"",children:"Select Store"}),n.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})}),e.jsxs("div",{className:"relative mx-4 flex-grow w-80",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"bg-white text-gray-700 p-2 rounded w-full pr-10",value:w,onChange:C=>b(C.target.value),onKeyPress:M}),e.jsx(ke,{className:"absolute right-2 top-2 text-xl text-gray-500 cursor-pointer",onClick:O})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("div",{className:`cursor-pointer font-semibold ${D("/home")}`,onClick:v,children:"Home"}),e.jsx("div",{className:`cursor-pointer font-semibold ${D("/aizen/all-categories")}`,onClick:k,children:"All Products"}),e.jsx("div",{className:`cursor-pointer font-semibold ${D("/about")}`,onClick:E,children:"About"})]}),e.jsxs("div",{className:"relative mx-4",children:[e.jsx(Pe,{className:"text-2xl text-green-900 hover:text-white cursor-pointer",onClick:A}),h>0&&e.jsx("span",{className:"absolute top-[-10px] right-[-10px] flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:h})]}),r?e.jsxs("div",{className:"relative mx-4",ref:S,children:[e.jsx(_e,{className:"text-2xl cursor-pointer",onClick:_}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-2",children:[e.jsx("a",{href:"#",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:T,children:"View Profile"}),o===1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block px-4 py-2 text-gray-800 hover:bg-gray-200 cursor-pointer",onClick:I,children:"Master Control"}),e.jsx("div",{className:"block px-4 py-2 text-gray-800 hover:bg-gray-200 cursor-pointer",onClick:q,children:"Seller Portal"})]}),o===2&&e.jsx("div",{className:"block px-4 py-2 text-gray-800 hover:bg-gray-200 cursor-pointer",onClick:q,children:"Seller Portal"}),e.jsx("button",{onClick:z,className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",children:"Logout"})]})]}):e.jsx("button",{className:"mx-4 bg-white p-1 px-6 text-green-900 font-semibold rounded hover:bg-green-900 hover:text-white",onClick:g,children:"Login"})]})})};let Qe=({isOpen:s,onClose:i})=>{let[n,x]=t.useState(""),[r,f]=t.useState(null),[o,d]=t.useState(""),[u,N]=t.useState(""),[w,b]=t.useState(!1);t.useEffect(()=>{s&&(async()=>{var m;try{let l=localStorage.getItem("token");if(!l){N("Token not found. Please log in again.");return}let y=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${l}`}});y.data.status==="success"?(f(y.data.user.id),d(y.data.user.email)):N(y.data.message)}catch(l){console.error("Error fetching user details:",((m=l.response)==null?void 0:m.data)||l.message),N("Error fetching user details")}})()},[s]);let h=()=>n.trim()===""?(N("Request details cannot be empty."),!1):r?o?(N(""),!0):(N("Email ID is not available."),!1):(N("User ID is not available."),!1),c=async()=>{var a;if(h()){b(!0);try{let m=localStorage.getItem("token");if(!m){U.error("Token not found. Please log in again."),b(!1);return}let l={details:n,user_id:r,email:o};console.log("Sending request with:",l);let y=await P.post("http://localhost:8000/controller/profile/vendorRequest.php",l,{headers:{Authorization:`Bearer ${m}`}});i(),U.success("Request submitted successfully")}catch(m){console.error("Error submitting request:",((a=m.response)==null?void 0:a.data)||m.message),U.error("Failed to submit the request. Please try again.")}finally{b(!1)}}};return s?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full relative",children:[e.jsx("button",{onClick:i,className:"absolute top-2 right-2 px-1 py-0.5 text-red-500 hover:bg-gray-100 text-xl font-semibold","aria-label":"Close",children:"X"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vendor Information"}),e.jsxs("p",{className:"mb-1",children:["Are you interested in promoting the vendor? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:n,onChange:a=>x(a.target.value),rows:"4",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter your request details here..."}),e.jsxs("div",{className:"mb-5 h-2",children:[" ",u&&e.jsx("p",{className:"text-red-500 text-2",children:u})," "]}),e.jsx("div",{className:"flex justify-between",children:e.jsx("button",{onClick:c,disabled:w,className:`px-2 py-2 ${w?"bg-gray-400 cursor-not-allowed":"bg-primary-green"} text-white rounded-md hover:bg-green-900`,children:w?"Submitting...":"Submit"})})]}),e.jsx(J,{})]}):null};const We=({setProfileOpen:s})=>{const[i,n]=t.useState({}),[x,r]=t.useState(!1),[f,o]=t.useState({}),[d,u]=t.useState(!1),[N,w]=t.useState("https://static.thenounproject.com/png/547804-200.png"),[b,h]=t.useState(null),[c,a]=t.useState(null),[m,l]=t.useState(""),[y,S]=t.useState(null),[p,g]=t.useState(""),[v,k]=t.useState({});t.useEffect(()=>{(async()=>{var O;const $=localStorage.getItem("token");if(!$){g("Token not found. Please log in again.");return}try{const M=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${$}`}});M.data.status==="success"?(a(M.data.user.id),l(M.data.user.email),S(M.data.user.role_id),console.log("profile role:",M.data.user)):g(M.data.message)}catch(M){console.error("Error fetching user details:",((O=M.response)==null?void 0:O.data)||M.message),g("Error fetching user details")}})()},[]),t.useEffect(()=>{(async()=>{var O;if(!c)return;const $=localStorage.getItem("token");if(!$){console.error("No token found");return}try{const M=await P.get("http://localhost:8000/controller/profile/read_profile.php",{headers:{Authorization:`Bearer ${$}`},params:{user_id:c}});n(M.data),o(M.data),w(M.data.avatar||"https://static.thenounproject.com/png/547804-200.png")}catch(M){console.error("Error fetching profile:",((O=M.response)==null?void 0:O.data)||M.message)}})()},[c]);const E=()=>{const D={};return/^\d+$/.test(f.mobile_no)||(D.mobile_no="Mobile number must be numeric"),f.mobile_no.length!==10&&(D.mobile_no="Mobile number must be exactly 10 digits"),k(D),Object.keys(D).length===0},_=()=>{r(!0)},T=async()=>{var O;if(!E())return;const D=localStorage.getItem("token");if(!D){console.error("No token found"),U.error("Authentication token is missing. Please log in again.");return}const $={...f,user_id:c};try{console.log("Saving formData:",$);const M=await P.post("http://localhost:8000/controller/profile/update_profile.php",$,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(console.log("Profile save response:",M.data),n($),b){const z=new FormData;z.append("avatar",b),z.append("user_id",c);const C=await P.post("http://localhost:8000/controller/profile/upload_avatar.php",z,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${D}`}});console.log("Avatar upload response:",C.data)}r(!1),U.success("Profile updated successfully")}catch(M){console.error("Error saving profile:",((O=M.response)==null?void 0:O.data)||M.message)}},A=()=>{r(!1),o(i)},I=D=>{const{name:$,value:O}=D.target;o(M=>({...M,[$]:O}))},q=D=>{const $=D.target.files[0];if($){h($);const O=new FileReader;O.onloadend=()=>{w(O.result)},O.readAsDataURL($)}};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsxs("div",{className:" max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 mt-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mr-6 cursor-pointer",onClick:()=>{x&&document.getElementById("fileInput").click()},children:e.jsx("img",{src:N,alt:"Profile Avatar",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:i.name}),e.jsx("p",{className:"text-gray-600 mt-2",children:i.email})," "]})]}),e.jsxs("div",{children:[e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Username"}),x?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"name",value:f.name||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Email"}),x?e.jsx(e.Fragment,{children:e.jsx("input",{type:"email",name:"email",value:f.email||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Mobile"}),x?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"mobile_no",value:f.mobile_no||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"}),v.mobile_no&&e.jsx("p",{className:"text-red-500 text-sm",children:v.mobile_no})]}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.mobile_no})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Address 1"}),x?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"address_line_1",value:f.address_line_1||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.address_line_1})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Address 2"}),x?e.jsx("input",{type:"text",name:"address_line_2",value:f.address_line_2||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.address_line_2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Address 3"}),x?e.jsx("input",{type:"text",name:"address_line_3",value:f.address_line_3||"",onChange:I,className:"mt-1 p-2 border border-gray-300 rounded-md w-full"}):e.jsx("p",{className:"mt-1 text-gray-900",children:i.address_line_3})]})]})]}),x?e.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[e.jsx("button",{onClick:T,className:"bg-primary-green text-white py-2 px-4 rounded-md shadow hover:bg-green-600",children:"Save"}),e.jsx("button",{onClick:A,className:"bg-gray-500 text-white py-2 px-4 rounded-md shadow hover:bg-gray-600",children:"Cancel"})]}):e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:_,className:"bg-secondary-yellow text-white py-2 px-4 rounded-md shadow hover:bg-yellow-500",children:"Edit"})})]}),e.jsx("input",{id:"fileInput",type:"file",accept:"image/*",onChange:q,style:{display:"none"}}),y===3&&e.jsxs("p",{children:["Interested in becoming a"," ",e.jsx("a",{href:"#",onClick:()=>u(!0),className:"text-blue-500 hover:text-blue-700 font-bold",children:"Vendor ?"})]}),d&&e.jsx(Qe,{isOpen:d,onClose:()=>u(!1)}),e.jsx(J,{})]}),e.jsx("br",{})]})},Ge=({setSelectedMenuTitle:s})=>{const i=le(),n=r=>r.replace(/([A-Z])/g,"-$1").replace(/\s+/g,"-").toLowerCase(),x=[{title:"Dashboard",key:"dashboard",icon:e.jsx(me,{})},{title:"Store Management",key:"stores",icon:e.jsx(xe,{})},{title:"User Management",key:"users",icon:e.jsx(Ee,{})},{title:"Request Management",key:"requests",icon:e.jsx(Ae,{})},{title:"Address Management",key:"address",icon:e.jsx(Fe,{})},{title:"Category Management",key:"categories",icon:e.jsx(Le,{})}];return e.jsxs("div",{className:"h-full fixed w-56 bg-green-900 text-white overflow-y-auto",children:[e.jsx(H,{to:"/aizen-admin",children:e.jsx("div",{className:"title p-4 pt-4 text-xl font-bold cursor-pointer hover:text-primary-green",children:e.jsx("img",{src:"../../src/assets/a2-logo-w.png",alt:"Logo",className:"h-15 w-auto"})})}),e.jsx("ul",{children:x.map(r=>{const f=n(r.key),o=i.pathname.includes(f);return e.jsx("li",{children:e.jsx("div",{className:`flex items-center w-full justify-start my-1 py-2 px-4 transition-colors duration-200 rounded-md ${o?"bg-white bg-opacity-10":"hover:bg-white hover:bg-opacity-10"}`,onClick:()=>s(r.title),children:e.jsx(H,{to:`/aizen-admin/${f}`,className:"flex-1 text-center",children:e.jsxs("button",{className:`w-full flex items-center text-sm  text-left text-white  ${o?"text-white text-lg font-semibold":"text-white text-lg font-normal"}`,children:[e.jsx("span",{className:"mr-2",children:r.icon}),r.title]})})})},r.key)})})]})},ye=({onClose:s})=>{const[i,n]=t.useState(""),x=f=>{n(f.target.value)},r=async f=>{f.preventDefault();try{(await(await fetch("http://localhost:8000/controller/Admin/addCountry.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i})})).json()).success?(alert("Country added successfully!"),n(""),s()):alert("Failed to add country")}catch(o){console.error("Error:",o)}};return e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Country"}),e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("form",{className:"max-w-md mx-auto p-4 bg-white  rounded",onSubmit:r,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Country Name"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:i,onChange:x,required:!0})]}),e.jsx("button",{type:"submit",id:"form-btn",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Country"})]})]})},be=({onClose:s})=>{const[i,n]=t.useState(""),[x,r]=t.useState(""),[f,o]=t.useState([]);t.useEffect(()=>{(async()=>{try{const b=await(await fetch("http://localhost:8000/controller/Admin/getCountries.php")).json();o(b.countries)}catch(w){console.error("Error fetching countries:",w)}})()},[]);const d=N=>{N.target.name==="stateName"?n(N.target.value):r(N.target.value)},u=async N=>{N.preventDefault();try{(await(await fetch("http://localhost:8000/controller/Admin/addState.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,country_id:x})})).json()).success?(alert("State added successfully!"),n(""),r(""),s()):alert("Failed to add state")}catch(w){console.error("Error:",w)}};return e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New State"}),e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("form",{className:"max-w-md mx-auto p-4 bg-white  rounded",onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"stateName",children:"State Name"}),e.jsx("input",{type:"text",id:"stateName",name:"stateName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:i,onChange:d,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"countryId",children:"Country"}),e.jsxs("select",{id:"countryId",name:"countryId",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:x,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"Select a country"}),f.map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})]}),e.jsx("button",{type:"submit",id:"form-btn",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add State"})]})]})},je=({onClose:s})=>{const[i,n]=t.useState(""),[x,r]=t.useState(""),[f,o]=t.useState([]);t.useEffect(()=>{(async()=>{try{const h=await(await fetch("http://localhost:8000/controller/Admin/getStates.php")).json();o(h)}catch(b){console.error("Error fetching states:",b)}})()},[]);const d=w=>{n(w.target.value)},u=w=>{r(w.target.value)},N=async w=>{w.preventDefault();try{const h=await(await fetch("http://localhost:8000/controller/Admin/addCity.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,state_id:x})})).json();h.success?(alert("City added successfully!"),n(""),r(""),s()):alert("Failed to add city: "+h.message)}catch(b){console.error("Error:",b)}};return e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New City"}),e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("form",{className:"max-w-md mx-auto p-4 bg-white  rounded",onSubmit:N,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"City Name"}),e.jsx("input",{type:"text",id:"name",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:i,onChange:d,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"state",children:"Select State"}),e.jsxs("select",{id:"state",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:x,onChange:u,required:!0,children:[e.jsx("option",{value:"",children:"Select a state"}),f.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]})]}),e.jsx("button",{type:"submit",id:"form-btn",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add City"})]})]})},Ne=({onClose:s})=>{const[i,n]=t.useState(""),[x,r]=t.useState(""),[f,o]=t.useState(""),[d,u]=t.useState(""),[N,w]=t.useState(""),[b,h]=t.useState(""),[c,a]=t.useState([]);t.useEffect(()=>{(async()=>{const S=await(await fetch("http://localhost:8000/controller/Admin/getCities.php")).json();a(S)})()},[]);const m=async l=>{l.preventDefault();try{const S=await(await fetch(`http://localhost:8000/controller/Admin/getCityDetails.php?city_id=${b}`)).json();if(console.log("City Details:",S),!S.state_id||!S.country_id){alert("Failed to fetch city details");return}const{state_id:p,country_id:g}=S,k=await(await fetch("http://localhost:8000/controller/Admin/addStore.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,address_line1:x,address_line2:f,address_line3:d,pincode:N,city_id:b,state_id:p,country_id:g})})).text();console.log("Raw response:",k);const E=JSON.parse(k);E.success?(alert("Store added successfully!"),n(""),r(""),o(""),u(""),w(""),h(""),s()):alert("Failed to add store: "+E.message)}catch(y){console.error("Error:",y),alert("Error: "+y.message)}};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("form",{className:"max-w-md mx-auto p-4 bg-white  rounded",onSubmit:m,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Store"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"storeName",children:"Store Name"}),e.jsx("input",{type:"text",id:"storeName",value:i,onChange:l=>n(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"addressLine1",children:"Address Line 1"}),e.jsx("input",{type:"text",id:"addressLine1",value:x,onChange:l=>r(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"addressLine2",children:"Address Line 2"}),e.jsx("input",{type:"text",id:"addressLine2",value:f,onChange:l=>o(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"addressLine3",children:"Address Line 3"}),e.jsx("input",{type:"text",id:"addressLine3",value:d,onChange:l=>u(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"pincode",children:"Pincode"}),e.jsx("input",{type:"text",id:"pincode",value:N,onChange:l=>w(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"city_id",children:"Select City"}),e.jsxs("select",{id:"city_id",value:b,onChange:l=>h(l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,children:[e.jsx("option",{value:"",children:"Select a city"}),Array.isArray(c)&&c.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"submit",id:"form-btn",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Store"})})]})]})},we=({onClose:s})=>{const[i,n]=t.useState(""),[x,r]=t.useState(""),[f,o]=t.useState(null),[d,u]=t.useState({}),N=()=>{const h={};return i.trim()||(h.categoryName="Category name is required"),x.trim()||(h.categoryDescription="Description is required"),f||(h.categoryImage="Category image is required"),u(h),Object.keys(h).length===0},w=async h=>{if(h.preventDefault(),!N())return;const c=new FormData;c.append("name",i),c.append("description",x),c.append("image",f);try{const m=await(await fetch("http://localhost:8000/controller/Admin/addCategory.php",{method:"POST",body:c})).json();m.success?(alert("Category added successfully!"),n(""),r(""),o(null),s()):alert("Failed to add category: "+m.message)}catch(a){console.error("Error:",a)}},b=(h,c)=>{h==="categoryName"?n(c):h==="categoryDescription"?r(c):h==="categoryImage"&&o(c),u(a=>({...a,[h]:""}))};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Category"}),e.jsxs("form",{className:"max-w-md mx-auto p-4 overflow-y-auto",onSubmit:w,style:{height:"360px"},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoryName",children:"Category Name"}),e.jsx("input",{type:"text",id:"categoryName",value:i,onChange:h=>b("categoryName",h.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),d.categoryName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.categoryName})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoryDescription",children:"Description"}),e.jsx("textarea",{id:"categoryDescription",value:x,onChange:h=>b("categoryDescription",h.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),d.categoryDescription&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.categoryDescription})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoryImage",children:"Category Image"}),e.jsx("input",{type:"file",id:"categoryImage",onChange:h=>b("categoryImage",h.target.files[0]),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),d.categoryImage&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.categoryImage})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"submit",className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Category"})})]})]})})},ve=({onClose:s})=>{const[i,n]=t.useState(""),[x,r]=t.useState(""),[f,o]=t.useState(""),[d,u]=t.useState(null),[N,w]=t.useState([]),[b,h]=t.useState({});t.useEffect(()=>{(async()=>{const S=await(await fetch("http://localhost:8000/controller/Admin/getCategories.php")).json();w(S)})()},[]);const c=()=>{const l={};return i.trim()||(l.subCategoryName="Subcategory name is required"),x.trim()||(l.description="Description is required"),f||(l.categoryId="Please select a category"),d||(l.image="Image is required"),h(l),Object.keys(l).length===0},a=async l=>{if(l.preventDefault(),!c())return;const y=new FormData;y.append("name",i),y.append("description",x),y.append("category_id",f),d&&y.append("image",d);try{const p=await(await fetch("http://localhost:8000/controller/Admin/addSubCategory.php",{method:"POST",body:y})).json();p.success?(alert("Subcategory added successfully!"),n(""),r(""),o(""),u(null),s()):alert("Failed to add subcategory: "+p.message)}catch(S){console.error("Error:",S)}},m=(l,y)=>{l==="subCategoryName"?n(y):l==="description"?r(y):l==="categoryId"?o(y):l==="image"&&u(y),h(S=>({...S,[l]:""}))};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"relative bg-white p-5 rounded-lg shadow-lg",children:[e.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Subcategory"}),e.jsxs("form",{className:"max-w-md mx-auto p-4 overflow-y-auto",onSubmit:a,style:{height:"400px"},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"subCategoryName",children:"Subcategory Name"}),e.jsx("input",{type:"text",id:"subCategoryName",value:i,onChange:l=>m("subCategoryName",l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),b.subCategoryName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.subCategoryName})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:x,onChange:l=>m("description",l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),b.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category_id",children:"Select Category"}),e.jsxs("select",{id:"category_id",value:f,onChange:l=>m("categoryId",l.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select a category"}),Array.isArray(N)&&N.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),b.categoryId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.categoryId})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"Upload Image"}),e.jsx("input",{type:"file",id:"image",onChange:l=>m("image",l.target.files[0]),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),b.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.image})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"submit",className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Subcategory"})})]})]})})};let He=()=>{let[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState([]);return t.useEffect(()=>{(async()=>{try{let d=await P.get("http://localhost:8000/controller/Admin/getStores.php");i(d.data||[]),console.log(s)}catch(d){console.error("Error fetching stores:",d)}})()},[]),t.useEffect(()=>{(async()=>{if(n)try{let d=await P.get(`http://localhost:8000/controller/Admin/getProducts.php?store_id=${n}`);f(d.data.products||[])}catch(d){console.error("Error fetching products:",d)}else f([])})()},[n]),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Store Inventory"}),e.jsx("div",{className:"mb-4",children:e.jsxs("select",{id:"store-select",className:"w-full p-2 border border-gray-300 rounded",value:n,onChange:o=>x(o.target.value),children:[e.jsx("option",{value:"",children:"--Select a Store--"}),s.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})}),r.length>0?e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b",children:"ID"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Quantity"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(o=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4 border-b",children:o.id}),e.jsx("td",{className:"py-2 px-4 border-b",children:o.name}),e.jsx("td",{className:"py-2 px-4 border-b",children:o.quantity}),e.jsx("td",{className:"py-2 px-4 border-b",children:e.jsx("button",{className:"bg-black text-white px-4 py-1 rounded hover:bg-primary-green",children:"View"})})]},o.id))})]}):e.jsx("p",{children:"No products available for the selected store."})]})};const Je=({selectedMenuTitle:s})=>{const[i,n]=t.useState(!1),x=t.useRef(null),r=B(),f=()=>{n(!i)},o=()=>{r("/aizen/all-categories"),n(!1)},d=()=>{localStorage.removeItem("token"),n(!1),r("/aizen")};return t.useEffect(()=>{const u=N=>{x.current&&!x.current.contains(N.target)&&n(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),e.jsxs("header",{className:"bg-white h-14 shadow-md p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"title text-xl text-green-900 font-semibold",children:["Master Control / ",s]}),e.jsxs("div",{className:"flex items-center space-x-4 relative",ref:x,children:[e.jsx(ge,{className:"h-10 w-10 text-green-900 cursor-pointer",onClick:f}),i&&e.jsxs("div",{className:"absolute right-0 top-10 mt-2 w-48 bg-white rounded-md shadow-lg py-2 z-10",children:[e.jsx("button",{className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:o,children:"To Site"}),e.jsx("button",{className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:d,children:"Lock Account"})]})]})]})},ie=()=>{const[s,i]=t.useState({labels:[],users:[],orders:[],total_records_processed:0,records_processed_change:0,success_rate:0,success_rate_change:0,new_customers:0,new_customers_change:0,new_orders:0,new_orders_change:0}),[n,x]=t.useState("lifetime");t.useEffect(()=>{const o=async()=>{try{const u=await P.get("http://localhost:8000/controller/Admin/Dashboard/getDashboard.php",{params:{period:n}});i(N=>({...N,total_records_processed:u.data.total_records_processed,records_processed_change:u.data.records_processed_change,success_rate:u.data.success_rate,success_rate_change:u.data.success_rate_change,new_customers:u.data.new_customers,new_customers_change:u.data.new_customers_change,new_orders:u.data.new_orders,new_orders_change:u.data.new_orders_change}))}catch(u){console.error("Error fetching dashboard data:",u)}},d=async()=>{try{const u=await P.get("http://localhost:8000/controller/Admin/Dashboard/getChart.php",{params:{period:n}});i(N=>({...N,labels:u.data.labels,users:u.data.users,orders:u.data.orders}))}catch(u){console.error("Error fetching chart data:",u)}};o(),d()},[n]);const r=o=>{x(o.target.value)},f={labels:s.labels,datasets:[{label:"Customers",data:s.users,borderColor:"#4F46E5",fill:!1},{label:"Orders",data:s.orders,borderColor:"#3B82F6",fill:!1}]};return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2  md:grid-cols-5 gap-2 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-sm",children:[e.jsx("h2",{className:"font-bold text-gray-600 text-sm mb-2",children:"Time Period"}),e.jsxs("select",{className:"block w-full bg-white border border-gray-300 text-gray-600  focus:outline-none focus:ring-blue-500 ",value:n,onChange:r,children:[e.jsx("option",{value:"lifetime",children:"Lifetime"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),e.jsx("option",{value:"last_1_year",children:"Last 1 Year"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"Total Products Processed"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.total_records_processed}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.records_processed_change.toFixed(2),"% vs last 30 days"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"Sales "}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.success_rate}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.success_rate_change.toFixed(2),"% vs last 30 days"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"New Customers"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.new_customers}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.new_customers_change.toFixed(2),"% vs last 30 days"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"New Orders"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.new_orders}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.new_orders_change.toFixed(2),"% vs last 30 days"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-4",children:"Traffic- Custommers & Orders"}),e.jsx(pe,{data:f})]})]})},Ke=s=>{const[i,n]=t.useState([]),[x,r]=t.useState(""),[f,o]=t.useState({key:null,direction:"ascending"}),[d,u]=t.useState(null),[N,w]=t.useState(!1),[b,h]=t.useState(1),[c,a]=t.useState(5),[m,l]=t.useState(null);t.useEffect(()=>{(async()=>{try{const R=await(await fetch("http://localhost:8000/controller/Admin/getStores.php")).json();n(R)}catch(L){console.error("Error fetching data:",L)}})()},[]);const y=j=>{l({...j})},S=()=>{l(null)},p=async()=>{try{const j=await P.post("http://localhost:8000/controller/Admin/manageStores.php",{store_id:m.id,is_active:m.is_active,is_popular:m.is_popular},{headers:{"Content-Type":"application/json"}});j.data.success?(n(L=>L.map(R=>R.id===m.id?m:R)),l(null)):console.error("Failed to update store:",j.data.message)}catch(j){console.error("Error updating store:",j)}},g=()=>{window.confirm("Are you sure you want to delete this store?")&&fetch(`http://localhost:8000/controller/Admin/deleteStore.php?id=${m.id}`,{method:"DELETE"}).then(j=>j.json()).then(j=>{j.success?(v(m.id),l(null)):console.error("Failed to delete store:",j.message)}).catch(j=>console.error("Error:",j))},v=j=>{n(i.filter(L=>L.id!==j))},k=j=>{l(L=>({...L,[j]:L[j]==="1"?"0":"1"}))},E=j=>{u(j)},_=()=>{u(null)},T=()=>{w(!N)},A=j=>{let L="ascending";f.key===j&&f.direction==="ascending"&&(L="descending"),o({key:j,direction:L})},q=[...i].sort((j,L)=>j[f.key]<L[f.key]?f.direction==="ascending"?-1:1:j[f.key]>L[f.key]?f.direction==="ascending"?1:-1:0).filter(j=>j.name.toLowerCase().includes(x.toLowerCase())),D=b*c,$=D-c,O=q.slice($,D),M=j=>h(j),z=j=>{a(Number(j.target.value)),h(1)},C=[];for(let j=1;j<=Math.ceil(q.length/c);j++)C.push(j);return e.jsxs("div",{className:"p-6 min-h-screen bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Store Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all stores efficiently"})]}),e.jsxs("button",{onClick:T,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New Store"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Store by Name",className:"p-2 border border-gray-300 rounded",value:x,onChange:j=>r(j.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:c,onChange:z,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border  rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>A("id"),children:"Store ID"}),e.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>A("name"),children:"Name"}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm border-0 h-45 max-h-45 overflow-y-auto",children:O.map(j=>e.jsxs("tr",{className:"border-b border-r-0 border-gray-200 h-8 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:j.id}),e.jsx("td",{className:"py-3 border-l-0 border-r-0 px-6",children:j.name}),e.jsxs("td",{className:"py-3 px-6 text-center",children:[e.jsx(Q,{className:"inline-block cursor-pointer text-green-600",onClick:()=>E(j)}),e.jsx(Z,{className:"inline-block cursor-pointer text-blue-600 ml-2",onClick:()=>y(j)})]})]},j.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",$+1," to ",D>q.length?q.length:D," of ",q.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:C.map(j=>e.jsx("button",{onClick:()=>M(j),className:`px-3 py-1 rounded ${b===j?"bg-primary-green text-white":"bg-gray-300 text-gray-700"}`,children:j},j))})]}),N&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:e.jsx(Ne,{onClose:T})})}),d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Store Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",d.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",d.is_active?"Active":"Inactive"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Popularity:"})," ",d.is_popular?"Popular":"Not Popular"]}),e.jsx("button",{onClick:_,className:"mt-4 bg-red-500 text-white py-2 px-4 rounded",children:"Close"})]})}),m&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Store"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Status"}),e.jsx("button",{onClick:()=>k("is_active"),className:`px-4 py-2 rounded ${m.is_active==="1"?"bg-green-600 text-white":"bg-gray-300 text-gray-700"}`,children:m.is_active==="1"?"Active":"Inactive"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Popularity"}),e.jsx("button",{onClick:()=>k("is_popular"),className:`px-4 py-2 rounded ${m.is_popular==="1"?"bg-yellow-600 text-white":"bg-gray-300 text-gray-700"}`,children:m.is_popular==="1"?"Popular":"Not Popular"})]}),e.jsx("button",{onClick:p,className:"bg-blue-500 text-white py-2 px-4 rounded mr-2",children:"Save"}),e.jsx("button",{onClick:S,className:"bg-gray-500 text-white py-2 px-4 rounded",children:"Cancel"}),e.jsx("button",{onClick:g,className:"bg-red-500 text-white py-2 px-4 rounded mt-4",children:"Delete"})]})})]})},Ze=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(1),[u,N]=t.useState(null),[w,b]=t.useState(5);t.useEffect(()=>{(async()=>{try{const T=await P.get("http://localhost:8000/controller/Admin/User/getUsers.php");i(T.data)}catch(T){console.error("There was an error fetching the users!",T)}})()},[]);const h=_=>{let T="ascending";r.key===_&&r.direction==="ascending"&&(T="descending"),f({key:_,direction:T})},c=_=>{N(_.id)},a=()=>{N(null)},l=[...s].sort((_,T)=>_[r.key]<T[r.key]?r.direction==="ascending"?-1:1:_[r.key]>T[r.key]?r.direction==="ascending"?1:-1:0).filter(_=>_.name.toLowerCase().includes(n.toLowerCase())),y=o*w,S=y-w,p=l.slice(S,y),g=_=>d(_),v=_=>{b(Number(_.target.value)),d(1)},k=[];for(let _=1;_<=Math.ceil(l.length/w);_++)k.push(_);const E=_=>r.key===_?r.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null;return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search User by Name",className:"p-2 border border-gray-300 rounded",value:n,onChange:_=>x(_.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:w,onChange:v,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("id"),children:["ID ",E("id")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("name"),children:["Name ",E("name")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("email"),children:["Email ",E("email")]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:p.map(_=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:_.id}),e.jsx("td",{className:"py-3 px-6",children:_.name}),e.jsx("td",{className:"py-3 px-6",children:_.email}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>c(_),children:e.jsx(Q,{})})})]},_.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",S+1," to ",y>l.length?l.length:y," of ",l.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:k.map(_=>e.jsx("button",{onClick:()=>g(_),className:`px-3 py-1 rounded ${o===_?"bg-primary-green text-white":"bg-gray-300 text-gray-700"}`,children:_},_))})]}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-lg rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"User Details"}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"ID:"})," ",u.id]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Name:"})," ",u.name]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Status:"})," ",(u.role_id==="3","User")]})}),e.jsx("button",{onClick:a,className:"mt-6 bg-gray-600 hover:bg-gray-800 text-white font-bold px-6 py-2 rounded-lg",children:"Close"})]})})]})},Ye=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(1),[u,N]=t.useState(5);t.useEffect(()=>{(async()=>{try{const v=await P.get("http://localhost:8000/controller/Admin/User/getSellers.php");i(v.data)}catch(v){console.error("There was an error fetching the sellers!",v)}})()},[]);const w=g=>{let v="ascending";r.key===g&&r.direction==="ascending"&&(v="descending"),f({key:g,direction:v})},h=[...s].sort((g,v)=>g[r.key]<v[r.key]?r.direction==="ascending"?-1:1:g[r.key]>v[r.key]?r.direction==="ascending"?1:-1:0).filter(g=>g.name.toLowerCase().includes(n.toLowerCase())),c=o*u,a=c-u,m=h.slice(a,c),l=g=>d(g),y=g=>{N(Number(g.target.value)),d(1)},S=[];for(let g=1;g<=Math.ceil(h.length/u);g++)S.push(g);const p=g=>r.key===g?r.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null;return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Seller by Name",className:"p-2 border border-gray-300 rounded",value:n,onChange:g=>x(g.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:u,onChange:y,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 bg-white",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("id"),children:["ID ",p("id")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("name"),children:["Name ",p("name")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("email"),children:["Email ",p("email")]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>handleViewClick(g.id),children:e.jsx(Q,{})})})]},g.id))})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",a+1," to ",c>h.length?h.length:c," of ",h.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:S.map(g=>e.jsx("button",{onClick:()=>l(g),className:`px-3 py-1 rounded ${o===g?"bg-primary-green text-white":"bg-gray-300 text-gray-700"}`,children:g},g))})]})]})},Xe=()=>{const[s,i]=t.useState("userslist");return e.jsxs("div",{className:"flex-1 min-h-full bg-gray-100",children:[e.jsxs("div",{className:"top bg-white flex w-full border-b",children:[e.jsx("div",{onClick:()=>i("userslist"),className:`text-center w-3/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="userslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Users List"}),e.jsx("div",{onClick:()=>i("sellerslist"),className:`text-center w-3/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="sellerslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Sellers List"})]}),e.jsxs("div",{className:"bottom min-h-full bg-white shadow-md rounded-b-lg p-4",children:[s==="userslist"&&e.jsx(Ze,{}),s==="sellerslist"&&e.jsx(Ye,{})]})]})},et=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(null),[r,f]=t.useState(""),[o,d]=t.useState({key:null,direction:"ascending"}),[u,N]=t.useState(1),[w,b]=t.useState(5);t.useEffect(()=>{(async()=>{try{const q=await(await fetch("http://localhost:8000/controller/Admin/getRequests.php")).json();i(q)}catch(I){console.error("Error fetching data:",I)}})()},[]);const h=A=>{let I="ascending";o.key===A&&o.direction==="ascending"&&(I="descending"),d({key:A,direction:I})},a=[...s].sort((A,I)=>A[o.key]<I[o.key]?o.direction==="ascending"?-1:1:A[o.key]>I[o.key]?o.direction==="ascending"?1:-1:0).filter(A=>A.name.toLowerCase().includes(r.toLowerCase())),m=u*w,l=m-w,y=a.slice(l,m),S=A=>N(A),p=A=>{b(Number(A.target.value)),N(1)},g=[];for(let A=1;A<=Math.ceil(a.length/w);A++)g.push(A);const v=A=>o.key===A?o.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null,k=A=>{x(A)},E=()=>{x(null)},_=async()=>{try{const I=await(await fetch("http://localhost:8000/controller/Admin/managerequests.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"approve",requestId:n.id})})).json();I.status==="success"?i(q=>q.map(D=>D.id===n.id?{...D,status:1}:D)):console.error(I.message)}catch(A){console.error("Error:",A)}E()},T=async()=>{try{const I=await(await fetch("http://localhost:8000/controller/Admin/managerequests.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"reject",requestId:n.id})})).json();I.status==="success"?i(q=>q.map(D=>D.id===n.id?{...D,status:2}:D)):console.error(I.message)}catch(A){console.error("Error:",A)}E()};return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search by Name",className:"p-2 border border-gray-300 rounded",value:r,onChange:A=>f(A.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:w,onChange:p,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),a.length===0?e.jsx("p",{className:"text-gray-600 text-center",children:"No new requests found"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("id"),children:["Request ID ",v("id")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("name"),children:["User Name ",v("name")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>h("request_details"),children:["Details ",v("request_details")]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:y.map(A=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:A.id}),e.jsx("td",{className:"py-3 px-6",children:A.name}),e.jsx("td",{className:"py-3 px-6",children:A.request_details}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>k(A),children:e.jsx(Q,{})})})]},A.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",l+1," to ",m>a.length?a.length:m," of ",a.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:g.map(A=>e.jsx("button",{onClick:()=>S(A),className:`px-3 py-1 rounded ${u===A?"bg-primary-green text-white":"bg-gray-300 text-gray-700"}`,children:A},A))})]})]}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("svg",{className:"w-6 h-6 text-gray-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Request's Detail"})]}),e.jsxs("p",{className:"text-gray-700 mb-4",children:[e.jsx("strong",{className:"font-medium",children:"Name:"})," ",n.name]}),e.jsxs("p",{className:"text-gray-700 mb-4",children:[e.jsx("strong",{className:"font-medium",children:"Request Detail:"})," ",n.request_details]}),e.jsxs("p",{className:"text-gray-700 mb-6",children:[e.jsx("strong",{className:"font-medium",children:"Created At:"})," ",new Date(n.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md transition duration-300 shadow-md",onClick:_,children:"Approve"}),e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-md transition duration-300 shadow-md",onClick:T,children:"Reject"}),e.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition duration-300 shadow-md",onClick:E,children:"Close"})]})]})})]})},tt=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(1),[u,N]=t.useState(5);t.useEffect(()=>{(async()=>{try{const v=await(await fetch("http://localhost:8000/controller/Admin/getRejectedRequests.php")).json();i(v)}catch(g){console.error("Error fetching data:",g)}})()},[]);const w=p=>{let g="ascending";r.key===p&&r.direction==="ascending"&&(g="descending"),f({key:p,direction:g})},h=[...s].sort((p,g)=>p[r.key]<g[r.key]?r.direction==="ascending"?-1:1:p[r.key]>g[r.key]?r.direction==="ascending"?1:-1:0).filter(p=>p.name.toLowerCase().includes(n.toLowerCase())||p.request_details.toLowerCase().includes(n.toLowerCase())),c=Math.ceil(h.length/u),a=h.slice((o-1)*u,o*u),m=p=>{d(p)},l=p=>r.key===p?r.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null,y=(o-1)*u+1,S=Math.min(o*u,h.length);return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:p=>x(p.target.value),className:"p-2 border border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:u,onChange:p=>N(Number(p.target.value)),className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>w("id"),children:["Request ID ",l("id")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>w("name"),children:["User Name ",l("name")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>w("request_details"),children:["Details ",l("request_details")]})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:a.map(p=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:p.id}),e.jsx("td",{className:"py-3 px-6",children:p.name}),e.jsx("td",{className:"py-3 px-6",children:p.request_details})]},p.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-gray-700",children:["Showing ",y," to ",S," of ",h.length," entries"]}),e.jsx("div",{className:"flex justify-center",children:Array.from({length:c},(p,g)=>e.jsx("button",{onClick:()=>m(g+1),className:`px-3 py-1 rounded  ${o===g+1?"bg-primary-green text-white":"bg-gray-200 text-gray-700"}`,children:g+1},g))})]})]})},st=()=>{const[s,i]=t.useState("newrequests");return e.jsxs("div",{className:"flex-1 min-h-full bg-gray-100",children:[e.jsxs("div",{className:"top bg-white flex w-full border-b",children:[e.jsx("div",{onClick:()=>i("newrequests"),className:`text-center w-3/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="newrequests"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"New Requests"}),e.jsx("div",{onClick:()=>i("rejected"),className:`text-center w-3/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="rejected"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Rejected Requests"})]}),e.jsxs("div",{className:"bottom min-h-full bg-white shadow-md rounded-b-lg p-4",children:[s==="newrequests"&&e.jsx(et,{}),s==="rejected"&&e.jsx(tt,{})]})]})},rt=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(!1),[r,f]=t.useState(""),[o,d]=t.useState(1),[u,N]=t.useState(6);t.useEffect(()=>{(async()=>{try{const v=await(await fetch("http://localhost:8000/controller/Admin/getCities.php")).json();console.log("Fetched cities data:",v),i(v)}catch(g){console.error("Error fetching cities:",g)}})()},[]);const w=()=>{x(!n)},b=p=>{f(p.target.value)},h=p=>{N(parseInt(p.target.value)),d(1)},c=s.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())),a=o*u,m=a-u,l=c.slice(m,a),y=Math.ceil(c.length/u),S=p=>d(p);return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"City Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all cities efficiently"})]}),e.jsxs("button",{onClick:w,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New City"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entriesPerPage",className:"mr-2",children:"Show"}),e.jsxs("select",{id:"entriesPerPage",className:"border rounded py-1 px-2",value:u,onChange:h,children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"15",children:"15"})]}),e.jsx("span",{className:"ml-2",children:"entries"})]}),e.jsx("input",{type:"text",placeholder:"Search...",className:"border rounded py-1 px-3",value:r,onChange:b})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-6 text-left",children:"City ID"}),e.jsx("th",{className:"py-3 px-6 text-left",children:"City Name"}),e.jsx("th",{className:"py-3 px-6 text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:l.map(p=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:p.id}),e.jsx("td",{className:"py-3 px-6",children:p.name}),e.jsxs("td",{className:"py-3 px-6 border-0 flex justify-center space-x-5",children:[e.jsx("button",{className:"text-blue-500 border-0 hover:text-blue-700",onClick:()=>handleViewClick(p),children:e.jsx(Q,{})}),e.jsx("button",{className:"text-green-500 border-0 hover:text-green-700",children:e.jsx(Z,{})})]})]},p.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{children:["Showing ",m+1," to ",a>c.length?c.length:a," of ",c.length," entries"]}),e.jsx("div",{className:"flex",children:Array.from({length:y},(p,g)=>e.jsx("button",{onClick:()=>S(g+1),className:`mx-1 px-3 py-1 border rounded ${o===g+1?"bg-green-900 text-white":"bg-white text-gray-800"}`,children:g+1},g+1))})]}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:e.jsx(je,{onClose:w})})})]})},at=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(!1),[r,f]=t.useState(""),[o,d]=t.useState(1),[u,N]=t.useState(6);t.useEffect(()=>{(async()=>{try{const v=await(await fetch("http://localhost:8000/controller/Admin/getStates.php")).json();i(v)}catch(g){console.error("Error fetching states:",g)}})()},[]);const w=()=>{x(!n)},b=p=>{f(p.target.value)},h=p=>{N(parseInt(p.target.value)),d(1)},c=s.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())),a=o*u,m=a-u,l=c.slice(m,a),y=Math.ceil(c.length/u),S=p=>d(p);return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"State Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all states efficiently"})]}),e.jsxs("button",{onClick:w,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New State"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entriesPerPage",className:"mr-2",children:"Show"}),e.jsxs("select",{id:"entriesPerPage",className:"border rounded py-1 px-2",value:u,onChange:h,children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"15",children:"15"})]}),e.jsx("span",{className:"ml-2",children:"entries"})]}),e.jsx("input",{type:"text",placeholder:"Search...",className:"border rounded py-1 px-3",value:r,onChange:b})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-6 text-left",children:" ID"}),e.jsx("th",{className:"py-3 px-6 text-left",children:" Name"}),e.jsx("th",{className:"py-3 px-6 text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:l.map(p=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:p.id}),e.jsx("td",{className:"py-3 px-6",children:p.name}),e.jsxs("td",{className:"py-3 px-6 border-0 flex justify-center space-x-5",children:[e.jsx("button",{className:"text-blue-500 border-0 hover:text-blue-700",onClick:()=>handleViewClick(p),children:e.jsx(Q,{})}),e.jsx("button",{className:"text-green-500 border-0 hover:text-green-700",children:e.jsx(Z,{})})]})]},p.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{children:["Showing ",m+1," to ",a>c.length?c.length:a," of ",c.length," entries"]}),e.jsx("div",{className:"flex",children:Array.from({length:y},(p,g)=>e.jsx("button",{onClick:()=>S(g+1),className:`mx-1 px-3 py-1 border rounded ${o===g+1?"bg-green-900 text-white":"bg-white text-gray-800"}`,children:g+1},g+1))})]}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:e.jsx(be,{onClose:w})})})]})},ot=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(!1),[r,f]=t.useState(""),[o,d]=t.useState(1),[u,N]=t.useState(6);t.useEffect(()=>{(async()=>{try{const v=await(await fetch("http://localhost:8000/controller/Admin/getCountries.php")).json();console.log("Fetched countries data:",v),i(v.countries)}catch(g){console.error("Error fetching countries:",g)}})()},[]);const w=()=>{x(!n)},b=p=>{f(p.target.value)},h=p=>{N(parseInt(p.target.value)),d(1)},c=Array.isArray(s)?s.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())):[],a=o*u,m=a-u,l=c.slice(m,a),y=Math.ceil(c.length/u),S=p=>d(p);return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Country Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all countries efficiently"})]}),e.jsxs("button",{onClick:w,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New Country"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entriesPerPage",className:"mr-2",children:"Show"}),e.jsxs("select",{id:"entriesPerPage",className:"border rounded py-1 px-2",value:u,onChange:h,children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"15",children:"15"})]}),e.jsx("span",{className:"ml-2",children:"entries"})]}),e.jsx("input",{type:"text",placeholder:"Search...",className:"border rounded py-1 px-3",value:r,onChange:b})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-6 text-left",children:"Country ID"}),e.jsx("th",{className:"py-3 px-6 text-left",children:"Country Name"}),e.jsx("th",{className:"py-3 px-6 text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm",children:l.map(p=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:p.id}),e.jsx("td",{className:"py-3 px-6",children:p.name}),e.jsxs("td",{className:"py-3 px-6 border-0 flex justify-center space-x-5",children:[e.jsx("button",{className:"text-blue-500 border-0 hover:text-blue-700",children:e.jsx(Q,{})}),e.jsx("button",{className:"text-green-500 border-0 hover:text-green-700",children:e.jsx(Z,{})})]})]},p.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{children:["Showing ",m+1," to ",a>c.length?c.length:a," of ",c.length," entries"]}),e.jsx("div",{className:"flex",children:Array.from({length:y},(p,g)=>e.jsx("button",{onClick:()=>S(g+1),className:`mx-1 px-3 py-1 border rounded ${o===g+1?"bg-green-900 text-white":"bg-white text-gray-800"}`,children:g+1},g+1))})]}),n&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:e.jsx(ye,{onClose:w})})})]})},nt=()=>{const[s,i]=t.useState("citieslist");return e.jsxs("div",{className:"flex-1 min-h-full bg-white",children:[e.jsxs("div",{className:"flex px-4 py-4 flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Address Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all stores efficiently"})]}),e.jsxs("div",{className:"top bg-white flex w-full border-b",children:[e.jsx("div",{onClick:()=>i("citieslist"),className:`text-center w-2/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="citieslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Cities"}),e.jsx("div",{onClick:()=>i("stateslist"),className:`text-center w-2/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="stateslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"States"}),e.jsx("div",{onClick:()=>i("countrieslist"),className:`text-center w-2/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="countrieslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Countries"})]}),e.jsxs("div",{className:"bottom min-h-full bg-white shadow-md rounded-b-lg p-4",children:[s==="citieslist"&&e.jsx(rt,{}),s==="stateslist"&&e.jsx(at,{}),s==="countrieslist"&&e.jsx(ot,{})]})]})},lt=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(null),[u,N]=t.useState(!1),[w,b]=t.useState(1),[h,c]=t.useState(5),[a,m]=t.useState(null);t.useEffect(()=>{(async()=>{try{const L=await(await fetch("http://localhost:8000/controller/Admin/getcategoriesall.php")).json();i(L)}catch(j){console.error("Error fetching data:",j)}})()},[]);const l=C=>{m({...C})},y=()=>{m(null)},S=async()=>{try{const C=await P.post("http://localhost:8000/controller/Admin/managecategories.php",{category_id:a.id,is_active:a.is_active,is_popular:a.is_popular},{headers:{"Content-Type":"application/json"}});C.data.success?(i(j=>j.map(L=>L.id===a.id?a:L)),m(null)):console.error("Failed to update category:",C.data.message)}catch(C){console.error("Error updating category:",C)}},p=()=>{window.confirm("Are you sure you want to delete this category?")&&fetch(`http://localhost:8000/controller/Admin/deleteCategories.php?id=${a.id}`,{method:"DELETE"}).then(C=>C.json()).then(C=>{C.success?(g(a.id),m(null)):console.error("Failed to delete category:",C.message)}).catch(C=>console.error("Error:",C))},g=C=>{i(s.filter(j=>j.id!==C))},v=C=>{m(j=>({...j,[C]:j[C]==="1"?"0":"1"}))},k=C=>{d(C)},E=()=>{d(null)},_=()=>{N(!u)},T=C=>{let j="ascending";r.key===C&&r.direction==="ascending"&&(j="descending"),f({key:C,direction:j})},I=[...s].sort((C,j)=>C[r.key]<j[r.key]?r.direction==="ascending"?-1:1:C[r.key]>j[r.key]?r.direction==="ascending"?1:-1:0).filter(C=>C.name.toLowerCase().includes(n.toLowerCase())),q=w*h,D=q-h,$=I.slice(D,q),O=C=>b(C),M=C=>{c(Number(C.target.value)),b(1)},z=[];for(let C=1;C<=Math.ceil(I.length/h);C++)z.push(C);return e.jsxs("div",{className:"p-6 min-h-screen bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Category Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all categories efficiently"})]}),e.jsxs("button",{onClick:_,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New Category"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Category by Name",className:"p-2 border border-gray-300 rounded",value:n,onChange:C=>x(C.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:h,onChange:M,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border  rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>T("id"),children:"Category ID"}),e.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>T("name"),children:"Name"}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm border-0 h-45 max-h-45 overflow-y-auto",children:$.map(C=>e.jsxs("tr",{className:"border-b border-r-0 border-gray-200 h-8 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3  px-6",children:C.id}),e.jsx("td",{className:"py-3 border-l-0 border-r-0 px-6",children:C.name}),e.jsxs("td",{className:"py-3 px-6 text-center",children:[e.jsx(Q,{className:"inline-block cursor-pointer text-green-600",onClick:()=>k(C)}),e.jsx(Z,{className:"inline-block cursor-pointer text-blue-600 ml-2",onClick:()=>l(C)})]})]},C.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",D+1," to ",q>I.length?I.length:q," of ",I.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:z.map(C=>e.jsx("button",{onClick:()=>O(C),className:`px-3 py-1 rounded ${w===C?"bg-primary-green text-white":"bg-gray-300 text-gray-700"}`,children:C},C))})]}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:e.jsx(we,{onClose:_})})}),o&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-lg rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Category Details"}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"ID:"})," ",o.id]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Name:"})," ",o.name]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Status:"})," ",o.is_active==="1"?"Active":"Inactive"]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Popularity:"})," ",o.is_popular==="1"?"Popular":"Not Popular"]})}),e.jsx("button",{onClick:E,className:"mt-6 bg-gray-600 hover:bg-gray-800 text-white font-bold px-6 py-2 rounded-lg",children:"Close"})]})}),a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Category"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Active Status:"}),e.jsx("button",{onClick:()=>v("is_active"),className:`py-2 px-6 rounded-full transition-all duration-300 ${a.is_active==="1"?"bg-green-600 text-white shadow-md":"bg-gray-200 text-gray-800"}`,children:a.is_active==="1"?"On":"Off"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Popular Status:"}),e.jsx("button",{onClick:()=>v("is_popular"),className:`py-2 px-6 rounded-full transition-all duration-300 ${a.is_popular==="1"?"bg-green-600 text-white shadow-md":"bg-gray-200 text-gray-800"}`,children:a.is_popular==="1"?"On":"Off"})]}),e.jsxs("div",{className:"flex justify-between space-x-4 mt-8",children:[e.jsx("button",{onClick:y,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold px-5 py-2 rounded-lg transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white font-bold px-5 py-2 rounded-lg transition-all duration-300",children:"Save"}),e.jsx("button",{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white font-bold px-5 py-2 rounded-lg transition-all duration-300",children:"Delete"})]})]})})]})},ct=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(null),[u,N]=t.useState(!1),[w,b]=t.useState(1),[h,c]=t.useState(5),[a,m]=t.useState(null);t.useEffect(()=>{(async()=>{try{const R=await(await fetch("http://localhost:8000/controller/Admin/getSubCategories.php")).json();i(R)}catch(L){console.error("Error fetching data:",L)}})()},[]);const l=j=>{m({...j})},y=()=>{m(null)},S=async()=>{try{const j=await P.post("http://localhost:8000/controller/Admin/manageSubcategories.php",{subcategory_id:a.id,is_active:a.is_active,is_popular:a.is_popular},{headers:{"Content-Type":"application/json"}});j.data.success?(i(L=>L.map(R=>R.id===a.id?a:R)),m(null)):console.error("Failed to update subcategory:",j.data.message)}catch(j){console.error("Error updating subcategory:",j)}},p=()=>{window.confirm("Are you sure you want to delete this subcategory?")&&fetch(`http://localhost:8000/controller/Admin/manageSubCategories.php?id=${a.id}`,{method:"DELETE"}).then(j=>j.json()).then(j=>{j.success?(g(a.id),m(null)):console.error("Failed to delete subcategory:",j.message)}).catch(j=>console.error("Error:",j))},g=j=>{i(s.filter(L=>L.id!==j))},v=j=>{m(L=>({...L,[j]:L[j]==="1"?"0":"1"}))},k=j=>{d(j)},E=()=>{d(null)},_=()=>{N(!u)},T=j=>{let L="ascending";r.key===j&&r.direction==="ascending"&&(L="descending"),f({key:j,direction:L})},I=[...s].sort((j,L)=>j[r.key]<L[r.key]?r.direction==="ascending"?-1:1:j[r.key]>L[r.key]?r.direction==="ascending"?1:-1:0).filter(j=>j.name.toLowerCase().includes(n.toLowerCase())),q=w*h,D=q-h,$=I.slice(D,q),O=j=>b(j),M=j=>{c(Number(j.target.value)),b(1)},z=[];for(let j=1;j<=Math.ceil(I.length/h);j++)z.push(j);const C=j=>r.key===j?r.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null;return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Subcategory Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all subcategories efficiently"})]}),e.jsxs("button",{onClick:_,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New Subcategory"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Subcategory by Name",className:"p-2 border border-gray-300 rounded",value:n,onChange:j=>x(j.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:h,onChange:M,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>T("id"),children:["Subcategory ID ",C("id")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>T("name"),children:["Name ",C("name")]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm h-48 max-h-48 overflow-y-auto",children:$.map(j=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:j.id}),e.jsx("td",{className:"py-3 px-6",children:j.name}),e.jsxs("td",{className:"py-3 px-6 text-center flex justify-center space-x-4",children:[e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>k(j),children:e.jsx(Q,{})}),e.jsx("button",{className:"text-green-500 hover:text-green-700",onClick:()=>l(j),children:e.jsx(Z,{})})]})]},j.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",D+1," to ",q>I.length?I.length:q," of ",I.length," entries"]}),e.jsx("div",{children:e.jsx("ul",{className:"flex space-x-2",children:z.map(j=>e.jsx("li",{children:e.jsx("button",{onClick:()=>O(j),className:`px-4 py-2 rounded ${w===j?"bg-primary-green text-white":"bg-gray-200 text-gray-700"}`,children:j})},j))})})]}),u&&e.jsx(ve,{onClose:_}),o&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-lg rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Sub Category Details"}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"ID:"})," ",o.id]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Name:"})," ",o.name]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Status:"})," ",o.is_active==="1"?"Active":"Inactive"]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg text-gray-700",children:[e.jsx("strong",{children:"Popularity:"})," ",o.is_popular==="1"?"Popular":"Not Popular"]})}),e.jsx("button",{onClick:E,className:"mt-6 bg-gray-600 hover:bg-gray-800 text-white font-bold px-6 py-2 rounded-lg",children:"Close"})]})}),a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white w-2/3 max-h-[90vh] p-8 rounded-lg shadow-lg overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Edit Subcategory"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Active Status:"}),e.jsx("button",{onClick:()=>v("is_active"),className:`py-2 px-6 rounded-full transition-all duration-300 ${a.is_active==="1"?"bg-green-600 text-white shadow-md":"bg-gray-200 text-gray-800"}`,children:a.is_active==="1"?"On":"Off"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Popular Status:"}),e.jsx("button",{onClick:()=>v("is_popular"),className:`py-2 px-6 rounded-full transition-all duration-300 ${a.is_popular==="1"?"bg-green-600 text-white shadow-md":"bg-gray-200 text-gray-800"}`,children:a.is_popular==="1"?"On":"Off"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{onClick:S,className:"bg-primary-green text-white py-2 px-4 rounded",children:"Save"}),e.jsx("button",{onClick:y,className:"bg-gray-500 text-white py-2 px-4 rounded",children:"Cancel"}),e.jsx("button",{onClick:p,className:"bg-red-500 text-white py-2 px-4 rounded",children:"Delete"})]})]})})]})},it=()=>{const[s,i]=t.useState("categorieslist");return e.jsxs("div",{className:"flex-1 min-h-full bg-white",children:[e.jsxs("div",{className:"top bg-white flex w-full border-b",children:[e.jsx("div",{onClick:()=>i("categorieslist"),className:`text-center w-2/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="categorieslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Categories"}),e.jsx("div",{onClick:()=>i("subcategorieslist"),className:`text-center w-2/12 py-3 font-semibold cursor-pointer transition duration-300 ${s==="subcategorieslist"?"text-green-900 border-b-4 border-primary-green":"text-gray-500 hover:text-green-900"}`,children:"Sub Categories"})]}),e.jsxs("div",{className:"bottom min-h-full bg-white shadow-md rounded-b-lg p-4",children:[s==="categorieslist"&&e.jsx(lt,{}),s==="subcategorieslist"&&e.jsx(ct,{})]})]})},dt=()=>{const s=B(),[i,n]=t.useState(!1),[x,r]=t.useState("Dashboard");return t.useEffect(()=>{(async()=>{const o=localStorage.getItem("token");if(o)try{(await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${o}`}})).data.user.role_id===1?n(!0):s("/access-denied")}catch(d){console.error("Error verifying admin role:",d),s("/access-denied")}else s("/access-denied")})()},[s]),i?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-full flex-1",children:[e.jsx("div",{children:e.jsx(Ge,{setSelectedMenuTitle:r})}),e.jsxs("div",{className:"flex-1  ml-56",children:[e.jsx(Je,{selectedMenuTitle:x}),e.jsx("div",{className:"maincontent h-full  bg-adminbg flex-1 p-2",children:e.jsxs(se,{children:[e.jsx(F,{path:"/",element:e.jsx(ie,{})}),e.jsx(F,{path:"/dashboard",element:e.jsx(ie,{})}),e.jsx(F,{path:"/stores",element:e.jsx(Ke,{})}),e.jsx(F,{path:"/users/*",element:e.jsx(Xe,{})}),e.jsx(F,{path:"/requests/*",element:e.jsx(st,{})}),e.jsx(F,{path:"/address/*",element:e.jsx(nt,{})}),e.jsx(F,{path:"/categories/*",element:e.jsx(it,{})}),e.jsx(F,{path:"/add-category",element:e.jsx(we,{})}),e.jsx(F,{path:"/add-sub-category",element:e.jsx(ve,{})}),e.jsx(F,{path:"/add-store",element:e.jsx(Ne,{})}),e.jsx(F,{path:"/store-inventory",element:e.jsx(He,{})}),e.jsx(F,{path:"/add-country",element:e.jsx(ye,{})}),e.jsx(F,{path:"/add-state",element:e.jsx(be,{})}),e.jsx(F,{path:"/add-city",element:e.jsx(je,{})})]})})]})]})}):null},ht=()=>{const[s,i]=t.useState([]),n=t.useRef(null);return t.useEffect(()=>{const x="https://api.jsonbin.io/v3/b/669b40b9e41b4d34e4146b16",r="$2a$10$Sq2/s3mmIbMiz7RDJ4Ls/uquZa0h0DSVMa5t5gL3PmhnoTg7U.OZy";(async()=>{try{let o=await fetch(x,{method:"GET",headers:{"X-Master-Key":r}});if(!o.ok)throw new Error("Error fetching data");let u=(await o.json()).record.Product,N=u.slice().sort((c,a)=>a.quantity-c.quantity).slice(0,3);i(N);const w=n.current.getContext("2d"),b=["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(255, 205, 86, 1)"],h=u.map((c,a)=>b[a%b.length]);new $e(w,{type:"bar",data:{labels:u.map(c=>c.name),datasets:[{label:"Quantity",data:u.map(c=>c.quantity),backgroundColor:h}]},options:{plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0,ticks:{display:!0},title:{display:!0,text:"Quantity"}}}}})}catch(o){console.error("Error fetching data: ",o.message)}})()},[]),e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("section",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:s.map((x,r)=>e.jsxs("div",{className:"card bg-white shadow-md p-4 rounded-lg flex-1",children:[e.jsx("h1",{className:"text-lg font-bold",children:x.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",x.quantity]})]},r))}),e.jsxs("section",{className:"bg-white shadow-md rounded-lg p-4",children:[e.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Inventory Status"}),e.jsx("canvas",{ref:n,className:"w-full h-80"})]})]})})},ut=({setSelectedMenuTitle:s})=>{t.useState(null);const i=le(),n=r=>r.replace(/([A-Z])/g,"-$1").replace(/\s+/g,"-").toLowerCase(),x=[{title:"Dashboard",key:"dashboard",icon:e.jsx(me,{})},{title:"Product Management",key:"productmanagement",icon:e.jsx(xe,{})}];return e.jsxs("div",{className:"h-full fixed w-56 bg-green-900 text-white overflow-y-auto",children:[e.jsx(H,{to:"/aizen-seller",children:e.jsx("div",{className:"title p-4 pt-4 text-xl font-bold cursor-pointer hover:text-primary-green",children:e.jsx("img",{src:"../../src/assets/a2-logo-w.png",alt:"Logo",className:"h-15 w-auto"})})}),e.jsx("ul",{children:x.map(r=>{const f=n(r.key),o=i.pathname.includes(f);return e.jsx("li",{children:e.jsx("div",{className:`flex items-center w-full justify-start my-1 py-2 px-4 transition-colors duration-200 rounded-md ${o?"bg-white bg-opacity-10":"hover:bg-white hover:bg-opacity-10"}`,onClick:()=>s(r.title),children:e.jsx(H,{to:`/aizen-seller/${f}`,className:"flex-1 text-center",children:e.jsxs("button",{className:`w-full flex items-center text-sm  text-left text-white  ${o?"text-white text-lg font-semibold":"text-white text-lg font-normal"}`,children:[e.jsx("span",{className:"mr-2",children:r.icon}),r.title]})})})},r.key)})})]})},mt=({onClose:s})=>{const[i,n]=t.useState([]),[x,r]=t.useState([]),[f,o]=t.useState([]),[d,u]=t.useState({name:"",short_description:"",description:"",actual_price:"",selling_price:"",quantity:"",unit:"",category_id:"",subcategory_id:"",store_id:"",image:null}),[N,w]=t.useState(""),[b,h]=t.useState(!1);t.useEffect(()=>{(async()=>{try{await Promise.all([c(),m(),l()])}catch(v){console.error("Error fetching data:",v)}})()},[]);const c=async()=>{try{const g=await P.get("http://localhost:8000/controller/Admin/getCategories.php");n(g.data)}catch(g){console.error("Error fetching categories:",g)}},a=async g=>{if(g)try{const v=await P.get(`http://localhost:8000/controller/Admin/getSubCategories.php?category_id=${g}`);r(v.data)}catch(v){console.error("Error fetching subcategories:",v)}else r([])},m=async()=>{try{const g=await P.get("http://localhost:8000/controller/Admin/getStores.php");o(g.data)}catch(g){console.error("Error fetching stores:",g)}},l=async()=>{const g=localStorage.getItem("token");try{const v=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${g}`}});w(v.data.user.id)}catch(v){console.error("Error fetching user details:",v)}},y=g=>{const{name:v,value:k}=g.target;u(E=>{const _={...E,[v]:k};return v==="category_id"&&a(k),_})},S=g=>{u({...d,image:g.target.files[0]})},p=async g=>{g.preventDefault(),h(!0);const v=new FormData;Object.keys(d).forEach(k=>{v.append(k,d[k])}),v.append("seller_id",N);try{console.log("Submitting form data:",v);const k=await P.post("http://localhost:8000/controller/Admin/addProduct.php",v,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response:",k.data),u({name:"",short_description:"",description:"",actual_price:"",selling_price:"",quantity:"",unit:"",category_id:"",subcategory_id:"",store_id:"",image:null}),r([]),s()}catch(k){console.error("Error submitting form:",k)}finally{h(!1)}};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative bg-white shadow-lg rounded-lg w-full max-w-3xl p-6",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[b&&e.jsx("p",{className:"text-blue-500 mb-4",children:"Loading..."}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Product"}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Name:"}),e.jsx("input",{type:"text",name:"name",value:d.name,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Short Description:"}),e.jsx("input",{type:"text",name:"short_description",value:d.short_description,onChange:y,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description:"}),e.jsx("textarea",{name:"description",value:d.description,onChange:y,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Actual Price:"}),e.jsx("input",{type:"number",step:"0.01",name:"actual_price",value:d.actual_price,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Selling Price:"}),e.jsx("input",{type:"number",step:"0.01",name:"selling_price",value:d.selling_price,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Quantity:"}),e.jsx("input",{type:"number",name:"quantity",value:d.quantity,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Unit:"}),e.jsx("input",{type:"text",name:"unit",value:d.unit,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Category:"}),e.jsxs("select",{name:"category_id",value:d.category_id,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select a category"}),i.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Subcategory:"}),e.jsxs("select",{name:"subcategory_id",value:d.subcategory_id,onChange:y,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select a subcategory"}),x.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Store:"}),e.jsxs("select",{name:"store_id",value:d.store_id,onChange:y,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select a store"}),f.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Product Image:"}),e.jsx("input",{type:"file",name:"image",onChange:S,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline",children:"Submit"})})]})]})})},xt=({selectedMenuTitle:s})=>{const[i,n]=t.useState(!1),x=t.useRef(null),r=B(),f=()=>{n(!i)},o=()=>{r("/aizen"),n(!1)},d=()=>{localStorage.removeItem("token"),n(!1),r("/*")};return t.useEffect(()=>{const u=N=>{x.current&&!x.current.contains(N.target)&&n(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),e.jsxs("header",{className:"bg-white h-14 shadow-md p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"title text-xl text-green-900 font-semibold",children:["Seller Portal / ",s]}),e.jsxs("div",{className:"flex items-center space-x-4 relative",ref:x,children:[e.jsx(ge,{className:"h-10 w-10 text-gray-500 cursor-pointer",onClick:f}),i&&e.jsxs("div",{className:"absolute right-0 top-10 mt-2 w-48 bg-white rounded-md shadow-lg py-2 z-10",children:[e.jsx("button",{className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:o,children:"To Site"}),e.jsx("button",{className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-200",onClick:d,children:"Lock Account"})]})]})]})},gt=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(""),[r,f]=t.useState({key:null,direction:"ascending"}),[o,d]=t.useState(null),[u,N]=t.useState(!1),[w,b]=t.useState(1),[h,c]=t.useState(5),[a,m]=t.useState(!0),[l,y]=t.useState(null),[S,p]=t.useState(!1),g=B();t.useEffect(()=>{(async()=>{const j=localStorage.getItem("token");if(j)try{const L=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${j}`}});L.data.user.role_id===1||L.data.user.role_id===2?(p(!0),y(L.data.user.id)):g("/access-denied")}catch(L){console.error("Error verifying admin role:",L),g("/access-denied")}else g("/access-denied")})()},[g]),t.useEffect(()=>{l&&(async()=>{try{const j=await P.get("http://localhost:8000/controller/Admin/Seller/getSellerProducts.php",{params:{user_id:l}});i(j.data.products||[])}catch(j){console.error("Error fetching data:",j)}finally{m(!1)}})()},[l]);const v=C=>{d(C)},k=()=>{d(null)},E=()=>{N(!u)},_=C=>{let j="ascending";r.key===C&&r.direction==="ascending"&&(j="descending"),f({key:C,direction:j})},A=[...s].sort((C,j)=>C[r.key]<j[r.key]?r.direction==="ascending"?-1:1:C[r.key]>j[r.key]?r.direction==="ascending"?1:-1:0).filter(C=>C.name.toLowerCase().includes(n.toLowerCase())),I=w*h,q=I-h,D=A.slice(q,I),$=C=>b(C),O=C=>{c(Number(C.target.value)),b(1)},M=[];for(let C=1;C<=Math.ceil(A.length/h);C++)M.push(C);const z=C=>r.key===C?r.direction==="ascending"?e.jsx(X,{}):e.jsx(ee,{}):null;return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-green-900",children:"Product Management"}),e.jsx("p",{className:"text-md font-bold text-center text-gray-800",children:"Manage all products efficiently"})]}),e.jsxs("button",{onClick:E,className:"bg-primary-green hover:bg-green-900 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(K,{className:"mr-2"})," Add New Product"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Product by Name",className:"p-2 border border-gray-300 rounded",value:n,onChange:C=>x(C.target.value)}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"entries",className:"mr-2 text-gray-700",children:"Show"}),e.jsxs("select",{id:"entries",value:h,onChange:O,className:"border border-gray-300 rounded py-1 px-2 text-gray-700",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("label",{htmlFor:"entries",className:"ml-2 text-gray-700",children:"entries"})]})]}),a?e.jsx("div",{className:"flex justify-center items-center h-48",children:e.jsx("p",{children:"Loading..."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-200 rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200 text-gray-800 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>_("id"),children:["Product ID ",z("id")]}),e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>_("name"),children:["Name ",z("name")]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 text-sm h-48 max-h-48 overflow-y-auto",children:D.length>0?D.map(C=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 transition duration-300",children:[e.jsx("td",{className:"py-3 px-6",children:C.id}),e.jsx("td",{className:"py-3 px-6",children:C.name}),e.jsxs("td",{className:"py-3 px-6 text-center flex justify-center space-x-4",children:[e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>v(C),children:e.jsx(Q,{})}),e.jsx("button",{className:"text-green-500 hover:text-green-700",children:e.jsx(Z,{})})]})]},C.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center py-3",children:"No products found"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{children:["Showing ",q+1," to ",I>A.length?A.length:I," of ",A.length," entries"]}),e.jsx("div",{className:"flex space-x-1",children:M.map(C=>e.jsx("button",{onClick:()=>$(C),className:`py-1 px-3 rounded ${w===C?"bg-green-900 text-white":"bg-gray-200 text-gray-700"} hover:bg-green-700 hover:text-white`,children:C},C))})]}),u&&e.jsx(mt,{onClose:E}),o&&e.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-gray-800 bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",o.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",o.short_description]}),e.jsx("button",{onClick:k,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4",children:"Close"})]})})]})},de=()=>{const[s,i]=t.useState({labels:[],products:[],orders:[],total_records_processed:0,records_processed_change:0,success_rate:0,success_rate_change:0,new_customers:0,new_customers_change:0,new_orders:0,new_orders_change:0}),[n,x]=t.useState("lifetime"),[r,f]=t.useState(!1),[o,d]=t.useState(null);t.useEffect(()=>{(async()=>{const b=localStorage.getItem("token");if(b)try{const h=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${b}`}});h.data.user.role_id===1||h.data.user.role_id===2?(f(!0),d(h.data.user.id)):navigate("/access-denied")}catch(h){console.error("Error verifying admin role:",h),navigate("/access-denied")}else navigate("/access-denied")})()},[]),t.useEffect(()=>{if(o){const w=async()=>{try{const h=await P.get("http://localhost:8000/controller/Admin/Seller/getSellerData.php",{params:{period:n,user_id:o}});i(c=>({...c,total_records_processed:h.data.total_records_processed,records_processed_change:h.data.records_processed_change,success_rate:h.data.success_rate,success_rate_change:h.data.success_rate_change,new_customers:h.data.new_customers,new_customers_change:h.data.new_customers_change,new_orders:h.data.new_orders,new_orders_change:h.data.new_orders_change}))}catch(h){console.error("Error fetching dashboard data:",h)}},b=async()=>{try{const h=await P.get("http://localhost:8000/controller/Admin/Seller/getChartData.php",{params:{period:n,user_id:o}});i(c=>({...c,labels:h.data.labels,products:h.data.products,orders:h.data.orders}))}catch(h){console.error("Error fetching chart data:",h)}};w(),b()}},[n,o]);const u=w=>{x(w.target.value)},N={labels:s.labels,datasets:[{label:"Products",data:s.products,borderColor:"#4F46E5",fill:!1},{label:"Orders",data:s.orders,borderColor:"#3B82F6",fill:!1}]};return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-2 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-sm",children:[e.jsx("h2",{className:"font-bold text-gray-600 text-sm mb-2",children:"Time Period"}),e.jsxs("select",{className:"block w-full bg-white border border-gray-300 text-gray-600 focus:outline-none focus:ring-blue-500",value:n,onChange:u,children:[e.jsx("option",{value:"lifetime",children:"Lifetime"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),e.jsx("option",{value:"last_1_year",children:"Last 1 Year"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"Total Products Processed"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.total_records_processed}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.records_processed_change.toFixed(2),"% vs last 30 days"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"Sales"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.success_rate}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.success_rate_change.toFixed(2),"% vs last 30 days"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-2",children:"New Orders"}),e.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s.new_orders}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.new_orders_change.toFixed(2),"% vs last 30 days"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-sm",children:[e.jsx("h2",{className:"font-semibold text-gray-600 text-md mb-4",children:"Traffic - Products & Orders"}),e.jsx(pe,{data:N})]})]})},pt=()=>{const s=B(),[i,n]=t.useState(!1),[x,r]=t.useState("Dashboard");return t.useEffect(()=>{(async()=>{const o=localStorage.getItem("token");if(o)try{const u=(await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${o}`}})).data.user.role_id;u===1||u===2?n(!0):s("/access-denied")}catch(d){console.error("Error verifying role:",d),s("/access-denied")}else s("/access-denied")})()},[s]),i?e.jsxs("div",{className:"h-full flex-1",children:[e.jsx("div",{children:e.jsx(ut,{setSelectedMenuTitle:r})}),e.jsxs("div",{className:"flex-1  ml-56",children:[e.jsx(xt,{selectedMenuTitle:x}),e.jsx("div",{className:"maincontent flex-1 p-4",children:e.jsxs(se,{children:[e.jsx(F,{path:"/",element:e.jsx(de,{})}),e.jsx(F,{path:"/dashboard",element:e.jsx(de,{})}),e.jsx(F,{path:"/productmanagement",element:e.jsx(gt,{})}),e.jsx(F,{path:"/statistics",element:e.jsx(ht,{})})]})})]})]}):null},re=()=>e.jsx("section",{className:"  bg-gray-50 sm:pt-16 lg:pt-24 m-0",children:e.jsxs("div",{className:"px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl",children:[e.jsxs("div",{className:"grid grid-cols-2 md:col-span-3 lg:grid-cols-6 gap-y-16 gap-x-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-3 lg:col-span-2 lg:pr-8",children:[e.jsx("img",{className:"w-auto h-24",src:"../src/assets/a2-logo.png",alt:""}),e.jsx("p",{className:"text-base leading-relaxed text-gray-600 mt-7",children:'"Fresh from the farm to your table. Experience the taste of nature with every bite."'}),e.jsxs("ul",{className:"flex items-center space-x-3 mt-9",children:[e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex items-center justify-center text-white transition-all duration-200 bg-gray-800 rounded-full w-7 h-7 hover:bg-blue-600 focus:bg-blue-600",children:e.jsx("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.633 7.997c.013.175.013.349.013.523 0 5.325-4.053 11.461-11.46 11.461-2.282 0-4.402-.661-6.186-1.809.324.037.636.05.973.05a8.07 8.07 0 0 0 5.001-1.721 4.036 4.036 0 0 1-3.767-2.793c.249.037.499.062.761.062.361 0 .724-.05 1.061-.137a4.027 4.027 0 0 1-3.23-3.953v-.05c.537.299 1.16.486 1.82.511a4.022 4.022 0 0 1-1.796-3.354c0-.748.199-1.434.548-2.032a11.457 11.457 0 0 0 8.306 4.215c-.062-.3-.1-.611-.1-.923a4.026 4.026 0 0 1 4.028-4.028c1.16 0 2.207.486 2.943 1.272a7.957 7.957 0 0 0 2.556-.973 4.02 4.02 0 0 1-1.771 2.22 8.073 8.073 0 0 0 2.319-.624 8.645 8.645 0 0 1-2.019 2.083z"})})})}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex items-center justify-center text-white transition-all duration-200 bg-gray-800 rounded-full w-7 h-7 hover:bg-blue-600 focus:bg-blue-600",children:e.jsx("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M13.397 20.997v-8.196h2.765l.411-3.209h-3.176V7.548c0-.926.258-1.56 1.587-1.56h1.684V3.127A22.336 22.336 0 0 0 14.201 3c-2.444 0-4.122 1.492-4.122 4.231v2.355H7.332v3.209h2.753v8.202h3.312z"})})})}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex items-center justify-center text-white transition-all duration-200 bg-gray-800 rounded-full w-7 h-7 hover:bg-blue-600 focus:bg-blue-600",children:e.jsxs("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("path",{d:"M11.999 7.377a4.623 4.623 0 1 0 0 9.248 4.623 4.623 0 0 0 0-9.248zm0 7.627a3.004 3.004 0 1 1 0-6.008 3.004 3.004 0 0 1 0 6.008z"}),e.jsx("circle",{cx:"16.806",cy:"7.207",r:"1.078"}),e.jsx("path",{d:"M20.533 6.111A4.605 4.605 0 0 0 17.9 3.479a6.606 6.606 0 0 0-2.186-.42c-.963-.042-1.268-.054-3.71-.054s-2.755 0-3.71.054a6.554 6.554 0 0 0-2.184.42 4.6 4.6 0 0 0-2.633 2.632 6.585 6.585 0 0 0-.419 2.186c-.043.962-.056 1.267-.056 3.71 0 2.442 0 2.753.056 3.71.015.748.156 1.486.419 2.187a4.61 4.61 0 0 0 2.634 2.632 6.584 6.584 0 0 0 2.185.45c.963.042 1.268.055 3.71.055s2.755 0 3.71-.055a6.615 6.615 0 0 0 2.186-.419 4.613 4.613 0 0 0 2.633-2.633c.263-.7.404-1.438.419-2.186.043-.962.056-1.267.056-3.71s0-2.753-.056-3.71a6.581 6.581 0 0 0-.421-2.217zm-1.218 9.532a5.043 5.043 0 0 1-.311 1.688 2.987 2.987 0 0 1-1.712 1.711 4.985 4.985 0 0 1-1.67.311c-.95.044-1.218.055-3.654.055-2.438 0-2.687 0-3.655-.055a4.96 4.96 0 0 1-1.669-.311 2.985 2.985 0 0 1-1.719-1.711 5.08 5.08 0 0 1-.311-1.669c-.043-.95-.053-1.218-.053-3.654 0-2.437 0-2.686.053-3.655a5.038 5.038 0 0 1 .311-1.687c.305-.789.93-1.41 1.719-1.712a5.01 5.01 0 0 1 1.669-.311c.951-.043 1.218-.055 3.655-.055s2.687 0 3.654.055a4.96 4.96 0 0 1 1.67.311 2.991 2.991 0 0 1 1.712 1.712 5.08 5.08 0 0 1 .311 1.669c.043.951.054 1.218.054 3.655 0 2.436 0 2.698-.043 3.654h-.011z"})]})})}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex items-center justify-center text-white transition-all duration-200 bg-gray-800 rounded-full w-7 h-7 hover:bg-blue-600 focus:bg-blue-600",children:e.jsx("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"})})})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold tracking-widest text-gray-400 uppercase",children:"Company"}),e.jsxs("ul",{className:"mt-6 space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex text-base text-black transition-all duration-200 hover:text-green-900 focus:text-green-900",children:" About "})}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex text-base text-black transition-all duration-200  hover:text-green-900 focus:text-green-900",children:" Our Team "})}),e.jsx("li",{}),e.jsx("li",{})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold tracking-widest text-gray-400 uppercase",children:"Help"}),e.jsxs("ul",{className:"mt-6 space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex text-base text-black transition-all duration-200  hover:text-green-900 focus:text-green-900",children:" Customer Support "})}),e.jsx("li",{}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex text-base text-black transition-all duration-200  hover:text-green-900 focus:text-green-900",children:" Terms & Conditions "})}),e.jsx("li",{children:e.jsx("a",{href:"#",title:"",className:"flex text-base text-black transition-all duration-200 hover:text-green-900 focus:text-blue-600",children:" Privacy Policy "})})]})]}),e.jsx("div",{children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3886.1493408534952!2d80.22326607373404!3d13.089720212280307!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a52642e3c8faf7f%3A0x5c1f7526b2bfe819!2sDCKAP!5e0!3m2!1sen!2sin!4v1721880792926!5m2!1sen!2sin",width:"350",height:"300",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Google Map"})})]}),e.jsx("hr",{className:"mt-16 mb-10 border-gray-200"}),e.jsx("p",{className:"text-sm text-center text-gray-600",children:"© Copyright 2024, All Rights Reserved by Aizen"})]})}),ft=[{title:"All Products",key:"allCategories"},{title:"Fresh Fruits",key:"freshFruits"},{title:"Fresh Vegetables",key:"freshVegetables"},{title:"Spices",key:"spices"},{title:"Dry Fruits",key:"dryfruits"},{title:"Dairy Products",key:"dairyproducts"},{title:"Meat, Fish & Eggs",key:"meats"},{title:"Atta & Rice",key:"rice"},{title:"Plant Sapplings",key:"sapplings"}],yt=({setSelectedMenuTitle:s})=>{const[i,n]=t.useState(null),x=le(),r=d=>d.replace(/([A-Z])/g,"-$1").replace(/\s+/g,"-").toLowerCase(),f=d=>{n(i===d?null:d),s(d.title)},o=d=>d?e.jsx("ul",{className:"ml-4 mt-2",children:d.map(u=>{const N=r(u.key),w=x.pathname.includes(N);return e.jsx("li",{children:e.jsx(H,{to:`/aizen/${N}`,children:e.jsx("div",{className:`p-2 transition-colors duration-200 rounded-l-3xl ${w?"bg-primary-green text-white font-bold":"hover:bg-white hover:bg-opacity-10"}`,children:u.title})})},u.key)})}):null;return e.jsxs("div",{className:"  min-h-screen  overflow-y-auto bg-green-900 w-60",children:[e.jsx(H,{to:"/aizen",children:e.jsx("div",{className:"title p-4 pt-10 text-xl font-bold cursor-pointer hover:text-primary-green"})}),e.jsx("ul",{children:ft.map(d=>{var b;const u=d.subItems&&d.subItems.length>0,N=r(d.key),w=x.pathname.includes(N)||(((b=d.subItems)==null?void 0:b.some(h=>x.pathname.includes(r(h.key))))??!1);return e.jsxs("li",{children:[e.jsxs("div",{className:`flex items-center w-full justify-start my-1 py-2 px-4 transition-colors duration-200 rounded-md ${w?"bg-white bg-opacity-10":"hover:bg-white hover:bg-opacity-10"}`,children:[e.jsx(H,{to:`/aizen/${N}`,className:"flex-1 text-center",children:e.jsxs("button",{className:`flex items-center text-left text-white font-semibold ${w?"text-white text-lg font-bold":""}`,onClick:()=>f(d),children:[d.icon&&e.jsx("span",{className:"mr-2",children:d.icon}),d.title]})}),u&&e.jsx("button",{onClick:()=>f(d.key)})]}),i===d.key&&u&&o(d.subItems)]},d.key)})})]})},G=({product:s})=>{const i=B(),[n,x]=t.useState(null);t.useEffect(()=>{(async()=>{const b=localStorage.getItem("token");if(b)try{const h=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${b}`}});h.data&&h.data.user&&x(h.data.user.id)}catch(h){console.error("Error fetching user details:",h)}})()},[]);const r=async w=>{if(w.stopPropagation(),s.quantity<=0){U.error("Cannot add to cart. Product is out of stock.");return}if(!n){U.error("User not Loged in. Redirecting to login page."),i("/login");return}const b={customer_id:n,product_id:s.id,quantity:1,price:s.selling_price,strikeout_price:s.actual_price||s.selling_price};try{const h=await P.post("http://localhost:8000/controller/cart.php",b,{headers:{"Content-Type":"application/json"}});h.data.success?U.success("Added to cart successfully!"):U.error(`Error adding to cart: ${h.data.message}`)}catch(h){U.error(`Error adding to cart: ${h.message}`)}},f=()=>{i(`/product/${s.id}`)},o=parseFloat(s.selling_price),d=parseFloat(s.actual_price),u=d?Math.round((d-o)/d*100):0,N=isNaN(o)?"0.00":o.toFixed(2);return e.jsxs("div",{className:"relative flex flex-col max-w-xs w-full overflow-hidden rounded-lg border border-gray-100 bg-white shadow-lg pb-14 transform transition duration-300 hover:scale-105 hover:border-green-500",onClick:f,style:{maxWidth:"235px",margin:"10px"},children:[e.jsxs("div",{className:"relative flex-grow overflow-hidden",children:[e.jsxs("div",{className:"relative mx-2 mt-2 flex h-40 overflow-hidden rounded-lg",children:[e.jsx("img",{className:"object-cover w-full h-full",src:`http://localhost:8000/assets/images/${s.images}`,alt:s.name,style:{objectFit:"cover"},onError:w=>{w.target.src="http://localhost:8000/assets/images/placeholder.jpg"}}),s.quantity<=0&&e.jsx("span",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs font-bold",children:"Out of Stock"}),u>0&&e.jsx("span",{className:"absolute top-2 left-2 rounded-full bg-black px-2 text-center text-xs font-medium text-white",children:`${u}% Discount`})]}),e.jsxs("div",{className:"flex flex-col items-center mt-2 px-2",children:[e.jsx("h5",{className:"text-sm font-semibold text-slate-900 text-center overflow-hidden max-h-12 leading-tight line-clamp-2",children:s.name}),e.jsxs("p",{className:"mt-1 mb-2 text-center",children:[e.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["$",N]}),s.actual_price&&e.jsxs("span",{className:"text-xs font-normal text-gray-500 line-through ml-1",children:["$",s.actual_price]})]})]})]}),e.jsx("button",{onClick:r,disabled:s.quantity<=0,className:`absolute bottom-2 left-1/2 transform -translate-x-1/2 w-9/12 px-4 py-2 text-center text-xs font-medium shadow-sm rounded-lg transition duration-300 ease-in-out ${s.quantity<=0?"bg-gray-500 cursor-not-allowed text-white":"bg-green-700 text-white hover:bg-green-800 focus:ring-green-300"}`,children:s.quantity<=0?"Out of Stock":"Add to Cart"})]})},bt=s=>{let i=s.slice();for(let n=i.length-1;n>0;n--){const x=Math.floor(Math.random()*(n+1));[i[n],i[x]]=[i[x],i[n]]}return i},ae=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),[w,b]=t.useState(!0),{ref:h,inView:c}=W({triggerOnce:!1,threshold:.1});return t.useEffect(()=>{(async()=>{try{const m=await P.get("http://localhost:8000/controller/productDetail.php");m.data&&!m.data.error?x(m.data.allProducts||[]):N(m.data.error||"No products found")}catch(m){N("Error fetching products"),console.error("Error fetching products:",m)}finally{b(!1)}})()},[]),t.useEffect(()=>{const a=n.filter(l=>{const y=l.name.toLowerCase().includes(s.toLowerCase()),S=!i||l.store_id===Number(i);return y&&S}),m=bt(a);f(m),d(m.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(c&&o.length<r.length){const a=setTimeout(()=>{const m=r.slice(o.length,o.length+10);d(l=>[...l,...m])},1e3);return()=>clearTimeout(a)}},[c,r,o.length]),w?e.jsx("div",{className:"text-center m-10 ml-1",children:"Loading products..."}):u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"All Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 m-6 ml-1",children:o.map(a=>e.jsx(G,{product:a},a.id))}),o.length<r.length&&e.jsx("div",{ref:h,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},jt=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===1),l=h(m);x(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):o.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Fresh Fruits"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},Nt=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1}),h=c=>{for(let a=c.length-1;a>0;a--){const m=Math.floor(Math.random()*(a+1));[c[a],c[m]]=[c[m],c[a]]}return c};return t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===2),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]),u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Fresh Vegetables"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},wt=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===3),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Spices"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},vt=({images:s})=>{const i={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500,arrows:!1};return e.jsx("div",{className:"w-full h-[60vh] flex justify-center items-center pt-3",children:e.jsxs("div",{className:"w-full max-w-7xl h-full rounded-lg overflow-hidden",children:[" ",e.jsx(fe,{...i,className:"w-full h-full",children:s.map((n,x)=>e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:n,alt:`Slide ${x}`,className:"w-full h-full object-cover rounded-lg"})},x))})]})})},St=({product:s,fetchCartItems:i,userId:n})=>{const[x,r]=t.useState(s.quantity),[f,o]=t.useState(!1);t.useEffect(()=>{r(s.quantity)},[s.quantity]);const d=async(b,h)=>{if(!b||h===void 0){console.error("Missing parameters for updateQuantity");return}try{console.log("Sending request to update quantity with params:",{cart_item_id:b,quantity:h,action:"update_quantity"});const c=await P.post("http://localhost:8000/controller/cart.php",{cart_item_id:b,quantity:h,action:"update_quantity"},{headers:{"Content-Type":"application/json"}});console.log("Response from updateQuantity:",c.data),c.data.success?(console.log("Updated cart item quantity:",c.data.message),i(n)):(console.error("Error updating cart item quantity:",c.data.message),r(s.quantity))}catch(c){console.error("Error updating cart item quantity:",c.response?c.response.data:c.message),r(s.quantity)}},u=async b=>{if(f)return;const h=Math.max(x+b,0);if(h!==x){r(h),o(!0);try{if(!n){console.error("User ID is not defined");return}h===0?await N(s.cart_item_id):await d(s.cart_item_id,h),await i(n)}catch(c){console.error("Error in handleQuantityChange:",c.message),r(s.quantity)}finally{o(!1)}}},N=async b=>{if(!b){console.error("Missing cartItemId for deleteCartItem");return}try{console.log("Sending request to delete cart item with params:",{cart_item_id:b});const h=await P.delete("http://localhost:8000/controller/cart.php",{data:{cart_item_id:b},headers:{"Content-Type":"application/json"}});console.log("Response from deleteCartItem:",h.data),h.data.success?(console.log("Deleted cart item:",h.data.message),i(n)):console.error("Error deleting cart item:",h.data.message)}catch(h){console.error("Error deleting cart item:",h.message)}},w=(Number(s.special_price)*x).toFixed(2);return e.jsxs("li",{className:"flex py-6",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:`http://localhost:8000/assets/images/${s.images}`,alt:s.product_name,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("h3",{children:e.jsx("a",{href:"#",children:s.product_name})}),e.jsxs("p",{className:"ml-4",children:["$",w]})]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["1 x $",s.special_price]})]}),e.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>u(-1),className:"px-3 py-0.5 border border-gray-300 rounded-l-md text-green-600 hover:bg-green-200 text-xl font-semibold",disabled:x<=0||f,children:"-"}),e.jsx("span",{className:"px-3",children:x}),e.jsx("button",{onClick:()=>u(1),className:"px-3 py-0.5 border border-gray-300 rounded-r-md text-green-600 hover:bg-green-200 text-xl font-semibold",disabled:f,children:"+"})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{type:"button",className:"font-medium text-green-600 hover:text-green-500",onClick:()=>u(-x),disabled:f,children:"Remove"})})]})]})]})},Se=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(null),[r,f]=t.useState(!0),[o,d]=t.useState(null),u=B();t.useEffect(()=>{(async()=>{var a;try{const m=localStorage.getItem("token"),l=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${m}`}});if(l.data.status==="success"){const y=l.data.user.id;d(y),N(y)}else x("Login to add Your cart")}catch(m){console.error("Error fetching user details:",((a=m.response)==null?void 0:a.data)||m.message),x("Error fetching user details")}})()},[]);const N=async c=>{var a;try{const m=await P.get("http://localhost:8000/controller/cart.php",{params:{id:c}});m.data.error?(console.error("Error from server:",m.data.error),x(m.data.error),i([])):Array.isArray(m.data)?(i(m.data),x(null)):(console.error("Unexpected response format:",m.data),x("Unexpected response format"),i([]))}catch(m){console.error("Error fetching cart items:",((a=m.response)==null?void 0:a.data)||m.message),x("Error fetching cart items"),i([])}},w=()=>s.reduce((a,m)=>{const l=parseFloat(m.special_price)||0,y=parseInt(m.quantity,10)||0;return a+l*y},0).toFixed(2),b=()=>{u("/checkout"),f(!1)},h=()=>{u("/home"),f(!1)};return r?e.jsx("div",{className:"fixed z-50",children:e.jsxs("div",{className:"fixed inset-0 z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0",children:e.jsx("div",{className:"absolute inset-0",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e.jsx("div",{className:"pointer-events-auto w-screen max-w-md",children:e.jsxs("div",{className:"flex h-full flex-col bg-white shadow-xl",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("button",{type:"button",className:"text-green-600 font-medium hover:text-green-700",onClick:()=>u("/viewcart"),children:"View Cart"}),e.jsx("h2",{className:"text-lg font-medium text-gray-900",id:"slide-over-title",children:"Shopping Cart"}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500",onClick:h,children:[e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})})]})," ",e.jsx("br",{}),n&&e.jsx("div",{className:"text-red-600",children:n}),s.length===0?e.jsx("p",{className:"mt-6 text-center text-gray-500",children:"Your cart is empty."}):e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:s.map(c=>e.jsx(St,{product:c,fetchCartItems:N,userId:o},c.cart_item_id))})]}),s.length>0&&e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["$",w()]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",className:"w-full rounded-md border border-transparent bg-green-600 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700",onClick:b,children:"Checkout"})})]})})]})})})})})]})}):null},Ct=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===11),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Meat, Fish & Eggs"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},kt=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===13),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Atta & Rice"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},Pt=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===12),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Dairy Products & Sweets"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},_t=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===14),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Plant Sapplings"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},Et=({searchTerm:s,storeId:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(null),{ref:w,inView:b}=W({triggerOnce:!1,threshold:.1});t.useEffect(()=>{(async()=>{try{const a=await P.get("http://localhost:8000/controller/productDetail.php");if(a.data&&!a.data.error){const m=a.data.allProducts.filter(y=>y.category_id===6),l=h(m);x(l),f(l),d(l.slice(0,10))}else N(a.data.error||"No products found")}catch(a){N("Error fetching products"),console.error("Error fetching products:",a)}})()},[]),t.useEffect(()=>{const c=n.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())&&(!i||a.store_id===Number(i)));f(c),d(c.slice(0,10))},[s,i,n]),t.useEffect(()=>{if(b&&o.length<r.length){const c=setTimeout(()=>{const a=r.slice(o.length,o.length+10);d(m=>[...m,...a])},1e3);return()=>clearTimeout(c)}},[b,r,o.length]);const h=c=>c.sort(()=>Math.random()-.5);return u?e.jsx("div",{className:"text-center text-red-500 m-10 ml-1",children:u}):r.length?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold py-2",children:"Dry Fruits"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 m-6 ml-1",children:o.map(c=>e.jsx(G,{product:c},c.product_id))}),o.length<r.length&&e.jsx("div",{ref:w,className:"text-center py-4",children:"Loading more products..."})]}):e.jsx("div",{className:"text-center m-10 ml-1",children:"No products found"})},At=()=>{const[s,i]=t.useState(""),[n,x]=t.useState(""),r=o=>{i(o)},f=o=>{x(o),console.log(o)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(Y,{onSearch:r,onStoreChange:f})," ",e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"h-11/12   overflow-y-auto bg-green-900 w-60",children:e.jsx(yt,{})}),e.jsx("div",{className:"maincontent bg-white flex-1 p-4 ml-54",children:e.jsxs(se,{children:[e.jsx(F,{path:"/",element:e.jsx(ae,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/aizen/*",element:e.jsx(ae,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/all-categories/*",element:e.jsx(ae,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/fresh-fruits/*",element:e.jsx(jt,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/fresh-vegetables/*",element:e.jsx(Nt,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/spices/*",element:e.jsx(wt,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/meats/*",element:e.jsx(Ct,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/dryfruits/*",element:e.jsx(Et,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/dairyproducts/*",element:e.jsx(Pt,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/rice/*",element:e.jsx(kt,{searchTerm:s,storeId:n})}),e.jsx(F,{path:"/sapplings/*",element:e.jsx(_t,{searchTerm:s,storeId:n})})]})})]}),e.jsx(re,{})]})})},Ft=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white rounded-lg shadow-md text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You are not authorized to access this page."}),e.jsxs("p",{className:"text-gray-700",children:["Please contact the administrator if you believe this is an error, or"," ",e.jsx("a",{href:"/",className:"text-blue-500 hover:underline",children:"return to the homepage"}),"."]})]})}),Lt=()=>{const{id:s}=Ie(),i=B(),[n,x]=t.useState(null),[r,f]=t.useState(1),[o,d]=t.useState(null),[u,N]=t.useState([]),[w,b]=t.useState(null);t.useEffect(()=>{const m=async()=>{try{const S=await P.get(`http://localhost:8000/controller/product.php?id=${s}`);S.data&&!S.data.error?(x(S.data),l(S.data.subcategory_id)):d(S.data.error||"Product not found")}catch(S){d("Error fetching product details"),console.error("Error fetching product details:",S)}},l=async S=>{try{const p=await P.get(`http://localhost:8000/controller/subcategory_products.php?subcategory_id=${S}`);p.data&&!p.data.error?N(p.data.filter(g=>g.id!==parseInt(s))):N([])}catch(p){d("Error fetching subcategory products"),console.error("Error fetching subcategory products:",p)}},y=async()=>{const S=localStorage.getItem("token");if(S)try{const p=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${S}`}});p.data&&p.data.user&&(b(p.data.user.id),console.log(p.data.user.id))}catch(p){console.error("Error fetching user details:",p)}};m(),y()},[s]);const h=()=>{i("/")},c=async()=>{if(!n||n.quantity===0)return;if(!w){U.error("User not Loged in. Redirecting to login page."),i("/login");return}const m={customer_id:w,product_id:n.id,quantity:r,price:n.selling_price,strikeout_price:n.actual_price};console.log(m);try{const l=await P.post("http://localhost:8000/controller/cart.php",m,{headers:{"Content-Type":"application/json"}});if(l.data&&l.data.success)U.success("Added to cart successfully!");else{const y=l.data&&l.data.message?l.data.message:"Unexpected error occurred";U.error("Error adding to cart: "+y)}}catch(l){U.error("Error adding to cart: "+l.message)}};if(o)return e.jsx("div",{className:"text-center text-red-500",children:o});if(!n)return e.jsx("div",{className:"text-center",children:"Loading..."});const a=n.images?`http://localhost:8000/assets/images/${n.images}`:"http://localhost:8000/assets/images/defaultImage.jpeg";return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx(Y,{}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:h,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900 focus:outline-none",style:{fontSize:"46px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("span",{className:"sr-only",children:"Close"}),"×"]}),e.jsxs("div",{className:"flex gap-2 p-10",children:[e.jsx("div",{className:"flex flex-col items-center w-full md:w-1/2 px-4 mb-8 relative",children:a?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a,alt:n.name,className:"w-80 h-80 rounded-lg mb-4"}),n.quantity===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 text-white text-2xl font-bold rounded-lg",children:"Out of Stock"})]}):e.jsx("div",{children:"No image available"})}),e.jsxs("div",{className:"w-full md:w-1/2 px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-orange-600",children:n.name}),e.jsx("p",{className:"text-gray-600 mt-4",children:n.short_description}),e.jsxs("h5",{className:"text-lg text-gray-900 mt-4",children:[e.jsxs("span",{className:"line-through text-red-600 mr-2",children:["$",n.actual_price?Number(n.actual_price).toFixed(2):"N/A"]}),"Price: $",n.selling_price?Number(n.selling_price).toFixed(2):"N/A"]}),e.jsx("p",{className:"text-gray-700 mt-4",children:n.description}),e.jsxs("p",{className:"text-gray-700 mt-4",children:["Quantity: ",n.quantity]}),e.jsxs("p",{className:"text-gray-700 mt-4",children:["Units: ",n.unit]}),e.jsxs("form",{className:" mt-6",children:[e.jsx("label",{htmlFor:"quantity-input",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Choose quantity:"}),e.jsxs("div",{className:"relative flex items-center max-w-[8rem]",children:[e.jsx("button",{type:"button",id:"decrement-button",onClick:()=>f(m=>Math.max(m-1,1)),className:"bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-11 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none",children:e.jsx("svg",{className:"w-3 h-3 text-gray-900 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h16"})})}),e.jsx("input",{type:"text",id:"quantity-input",value:r,readOnly:!0,className:"border-x-0 border-gray-300 h-11 text-center text-white text-sm focus:ring-blue-500 focus:border-blue-500 block w-full py-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),e.jsx("button",{type:"button",id:"increment-button",onClick:()=>f(m=>Math.min(m+1,n.quantity)),className:"bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-e-lg p-3 h-11 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none",children:e.jsx("svg",{className:"w-3 h-3 text-gray-900 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})})})]}),e.jsx("p",{id:"helper-text-explanation",className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Please select a quantity."})]}),e.jsx("div",{className:"mt-6 flex gap-4",children:n.quantity>0?e.jsx("button",{onClick:c,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600",children:"Add to Cart"}):e.jsx("button",{className:"bg-gray-500 text-white px-6 py-2 rounded cursor-not-allowed",disabled:!0,children:"Not Avaiable"})})]})]}),u.length>0&&e.jsxs("div",{className:"p-10 bg-white border-t border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"More Products from this Subcategory"}),e.jsx("div",{className:"flex flex-wrap -m-2",children:u.map(m=>e.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/4 p-2",children:e.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden shadow-lg",children:[e.jsx("img",{src:`http://localhost:8000/assets/images/${m.images}`,alt:m.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-orange-600",children:m.name}),e.jsx("p",{className:"text-gray-700 mt-2",children:m.short_description}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold",children:["$",m.selling_price?Number(m.selling_price).toFixed(2):"N/A"]}),e.jsx("a",{href:`/product/${m.id}`,className:"text-blue-500 hover:underline",children:"View Details"})]})]})]})},m.id))})]})]}),e.jsx(re,{}),e.jsx(J,{})]})},It=({onTotalChange:s,onUserIdChange:i})=>{const[n,x]=t.useState([]),[r,f]=t.useState(null),[o,d]=t.useState(null),[u,N]=t.useState(!1),w=async()=>{const l=localStorage.getItem("token");if(l)try{const y=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${l}`}});y.data&&y.data.user?(f(y.data.user.id),i(y.data.user.id)):d("User details are missing")}catch(y){console.error("Error fetching user details:",y),d("Error fetching user details")}else d("Authorization token is missing")},b=async l=>{const y=localStorage.getItem("token");if(!y){d("Authorization token is missing");return}try{const S=await P.get("http://localhost:8000/controller/getCartItem.php",{headers:{Authorization:`Bearer ${y}`},params:{user_id:l}});S.data&&S.data.cartItems?(x(S.data.cartItems),s(S.data.total),d(null)):(d(S.data.message||"Failed to fetch cart items"),x([]))}catch(S){console.error("Error fetching cart items:",S),d("Error fetching cart items"),x([])}};t.useEffect(()=>{w()},[]),t.useEffect(()=>{r&&b(r)},[r]);const h=async(l,y)=>{if(!l||y===void 0){console.error("Missing parameters for updateQuantity");return}try{const S=await P.post("http://localhost:8000/controller/cart.php",{cart_item_id:l,quantity:y,action:"update_quantity"},{headers:{"Content-Type":"application/json"}});S.data.success?b(r):console.error("Error updating cart item quantity:",S.data.message)}catch(S){console.error("Error updating cart item quantity:",S.response?S.response.data:S.message)}},c=async l=>{if(!l){console.error("Missing cartItemId for deleteCartItem");return}try{const y=await P.delete("http://localhost:8000/controller/cart.php",{data:{cart_item_id:l},headers:{"Content-Type":"application/json"}});y.data.success?b(r):console.error("Error deleting cart item:",y.data.message)}catch(y){console.error("Error deleting cart item:",y.message)}},a=async(l,y)=>{if(u)return;const S=n.find(g=>g.cart_item_id===l);if(!S)return;const p=Math.max(S.quantity+y,0);if(p!==S.quantity){N(!0);try{p===0?await c(l):await h(l,p),await b(r)}catch(g){console.error("Error in handleQuantityChange:",g.message)}finally{N(!1)}}},m=()=>n.reduce((l,y)=>{const S=parseFloat(y.selling_price),p=parseInt(y.quantity,10);return l+S*p},0).toFixed(2);return e.jsxs("div",{className:"flex-1 bg-white shadow-md rounded-lg p-4 min-h-80 max-h-[calc(100vh-200px)]",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Order Summary"}),o&&e.jsx("p",{className:"text-red-500",children:o}),n.length>0?e.jsx("ul",{className:"space-y-6 max-h-[calc(100vh-300px)] overflow-y-auto custom-scrollbar",children:n.map(l=>e.jsxs("li",{className:"flex py-6 border-b border-gray-200",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:`http://localhost:8000/assets/images/${l.images}`,alt:l.name,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("h3",{children:e.jsx("a",{href:"#",children:l.name})}),e.jsxs("p",{className:"ml-4",children:["$",l.selling_price]})]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[l.quantity," x $",l.selling_price]})]}),e.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>a(l.cart_item_id,-1),className:"px-3 py-0.5 border border-gray-300 rounded-l-md text-green-600 hover:bg-green-200 text-xl font-semibold",disabled:l.quantity<=0||u,children:"-"}),e.jsx("span",{className:"px-3",children:l.quantity}),e.jsx("button",{onClick:()=>a(l.cart_item_id,1),className:"px-3 py-0.5 border border-gray-300 rounded-r-md text-green-600 hover:bg-green-200 text-xl font-semibold",disabled:u,children:"+"})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{type:"button",className:"font-medium text-primary-green hover:text-green-900",onClick:()=>a(l.cart_item_id,-l.quantity),disabled:u,children:"Remove"})})]})]})]},l.cart_item_id))}):e.jsx("p",{className:"text-center",children:"No items in cart."}),e.jsxs("div",{className:"mt-2 font-semibold text-lg",children:["Total: $",m()]})]})},Dt=()=>{const[s,i]=t.useState({shippingName:"",houseDetail:"",zipcode:"",phoneNo:"",Country:"",stateSelect:"",city:"",userId:null,total:0,paymentMethod:""}),[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(1),[w,b]=t.useState(""),[h,c]=t.useState([]),[a,m]=t.useState(!1);t.useEffect(()=>{(async()=>{try{const k=await P.get("http://localhost:8000/controller/Admin/getCountries.php");x(k.data.countries||[])}catch(k){console.error("Error fetching countries:",k)}})()},[]),t.useEffect(()=>{s.Country&&(async()=>{try{const k=await P.get(`http://localhost:8000/controller/state.php?country=${s.Country}`);f(k.data||[]),d([])}catch(k){console.error("Error fetching states:",k)}})()},[s.Country]),t.useEffect(()=>{s.stateSelect&&(async()=>{try{const k=await P.get(`http://localhost:8000/controller/city.php?state=${s.stateSelect}`);d(k.data||[])}catch(k){console.error("Error fetching cities:",k)}})()},[s.stateSelect]),t.useEffect(()=>{(async()=>{try{const k=s.userId||localStorage.getItem("userId");if(k){const E=await P.get("http://localhost:8000/controller/getCartItem.php",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},params:{user_id:k}});c(E.data.cartItems||[]),i(_=>({..._,total:E.data.total}))}}catch(k){console.error("Error fetching cart items:",k),b("Error fetching cart items")}})()},[s.userId]);const l=v=>{const{name:k,value:E}=v.target;i(_=>{const T={..._,[k]:E};return localStorage.setItem("formData",JSON.stringify(T)),T})},y=()=>{N(v=>v+1)},S=async()=>{if(b(""),m(!0),!s.paymentMethod){b("Please select a payment method."),m(!1);return}try{console.log("Placing order with data:",s);const v=await P.post("http://localhost:8000/controller/checkout.php",{...s,cartItems:h});if(console.log("Checkout API Response:",v.data),v.data.status==="success"){Oe.fire({icon:"success",title:"Order Confirmed!",text:"Thank you for your purchase. Redirecting to home...",timer:2e3,showConfirmButton:!1});try{const k=await P.post("http://localhost:8000/controller/updatequantity.php",{userId:s.userId,items:h.map(E=>({cart_item_id:E.cart_item_id,quantity:E.quantity}))});console.log("Update Response:",k.data),k.data.success?(localStorage.removeItem("payment"),localStorage.removeItem("formData"),localStorage.removeItem("cartItems"),localStorage.removeItem("total"),setTimeout(()=>{window.location.href="/"},2e3)):b(k.data.error||"Failed to update quantities. Please try again.")}catch(k){console.error("Update failed:",k),b("An error occurred while updating quantities. Please try again.")}}else b(v.data.message||"Failed to place order. Please try again.")}catch(v){console.error("Error placing order:",v),b("Failed to place order. Please try again.")}finally{m(!1)}},p=v=>{i(k=>({...k,total:parseFloat(v)}))},g=v=>{i(k=>({...k,userId:v}))};return e.jsxs("div",{children:[e.jsx(Y,{}),e.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-2 sm:px-3 lg:px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex gap-4",children:[e.jsxs("div",{className:"flex-1 bg-white shadow-md rounded-lg p-4",children:[a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),u===1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Information"}),e.jsxs("form",{children:[e.jsxs("label",{className:"block mb-2",children:["Full Name:",e.jsx("input",{type:"text",name:"shippingName",value:s.shippingName,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["House Detail:",e.jsx("input",{type:"text",name:"houseDetail",value:s.houseDetail,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Zipcode:",e.jsx("input",{type:"text",name:"zipcode",value:s.zipcode,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Phone Number:",e.jsx("input",{type:"tel",name:"phoneNo",value:s.phoneNo,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0})]}),e.jsxs("label",{className:"block mb-2",children:["Country:",e.jsxs("select",{name:"Country",value:s.Country,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select a country"}),n.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsxs("label",{className:"block mb-2",children:["State:",e.jsxs("select",{name:"stateSelect",value:s.stateSelect,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select a state"}),r.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsxs("label",{className:"block mb-2",children:["City:",e.jsxs("select",{name:"city",value:s.city,onChange:l,className:"w-full mt-1 p-2 border border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select a city"}),o.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:y,className:"w-full bg-primary-green text-white py-2 px-4 rounded-md",children:"Next"})})]})]}),u===2&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Information"}),e.jsxs("form",{children:[e.jsx("label",{className:"block mb-2",children:"Payment Method:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:s.paymentMethod==="cod",onChange:l,className:"mr-2",required:!0}),"Cash on Delivery"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"upi",checked:s.paymentMethod==="upi",onChange:l,className:"mr-2"}),"UPI"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"credit_card",checked:s.paymentMethod==="credit_card",onChange:l,className:"mr-2"}),"Credit Card"]})]}),(s.paymentMethod==="upi"||s.paymentMethod==="credit_card")&&e.jsx("p",{className:"mt-2 text-red-600",children:"This payment option currently not available. Please choose cash on delivery"}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:S,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md",disabled:s.paymentMethod!=="cod",children:"Place Order"})})]})]})]}),e.jsx("div",{className:"w-1/3",children:e.jsx(It,{onTotalChange:p,onUserIdChange:g})})]})})]})},he=()=>{const[s,i]=t.useState([]),[n,x]=t.useState([]),[r,f]=t.useState([]),[o,d]=t.useState([]),[u,N]=t.useState(!0),[w,b]=t.useState(null),[h,c]=t.useState(""),a=B(),{ref:m,inView:l}=W({triggerOnce:!1,threshold:.1}),y=["http://localhost:8000/assets/images/banner-1.png","http://localhost:8000/assets/images/banner-2.png","http://localhost:8000/assets/images/banner-3.png"],S=v=>{for(let k=v.length-1;k>0;k--){const E=Math.floor(Math.random()*(k+1));[v[k],v[E]]=[v[E],v[k]]}return v};t.useEffect(()=>{(async()=>{try{const[k,E]=await Promise.all([P.get("http://localhost:8000/controller/Admin/getCategories.php"),P.get(`http://localhost:8000/controller/productDetail.php?store_id=${h}`)]);k.data.length>0?i(k.data):i([]),x(S(E.data.allProducts||[])),f(E.data.popularProducts||[]),d(E.data.allProducts.slice(0,10))}catch(k){b("Error fetching data"),console.error("Error fetching data:",k)}finally{N(!1)}})()},[h]),t.useEffect(()=>{if(l&&o.length<n.length){const v=setTimeout(()=>{const k=n.slice(o.length,o.length+10);d(E=>[...E,...k])},500);return()=>clearTimeout(v)}},[l,n,o.length]);const p=v=>{a(`/product/${v}`),window.scrollTo(0,0)},g=v=>{const E={Fruits:"/aizen/fresh-fruits",Vegetables:"/aizen/fresh-vegetables",Spices:"/aizen/spices","Dry Fruits":"/aizen/dryfruits","Meat, Fish & Eggs":"/aizen/meats","Dairy Products":"/aizen/dairyproducts","Atta & Rice":"/aizen/rice","Plant Sapplings":"/aizen/sapplings"}[v]||"/aizen";a(E),window.scrollTo(0,0)};return u?e.jsx("div",{className:"text-center p-4",children:"Loading..."}):w?e.jsx("div",{className:"text-center text-red-500 p-4",children:w}):e.jsxs("div",{className:"bg-white",children:[e.jsx(Y,{}),e.jsx("div",{className:"relative",children:e.jsx(vt,{images:y})}),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx(se,{children:e.jsx(F,{path:"/cart",element:e.jsx(Se,{})})}),e.jsxs("section",{className:"p-4 mb-4",style:{boxShadow:"none",backgroundColor:"transparent"},children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Top Products"}),e.jsx(fe,{dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,prevArrow:e.jsx("div",{className:"w-12 h-12 bg-white text-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer text-3xl absolute left-[-1.5rem] top-1/2 transform -translate-y-1/2 z-10"}),nextArrow:e.jsx("div",{className:"w-12 h-12 bg-white text-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer text-3xl absolute right-[-1.5rem] top-1/2 transform -translate-y-1/2 z-10"}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}],children:r.slice(0,10).map(v=>e.jsx("div",{className:"p-2",onClick:()=>p(v.id),children:e.jsx(G,{product:v})},v.id))})]}),e.jsxs("section",{className:"p-4 mb-4",style:{boxShadow:"none",backgroundColor:"transparent"},children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:s.map(v=>e.jsxs("div",{className:"flex flex-col items-center p-4 cursor-pointer transition-transform transform hover:scale-105",onClick:()=>g(v.name),children:[e.jsx("img",{src:`http://localhost:8000/assets/images/${v.image}`,alt:v.name,className:"w-full h-32 object-cover mb-4 rounded-lg transition-shadow hover:shadow-lg"}),e.jsx("h3",{className:"text-lg font-semibold",children:v.name})]},v.id))})]})]}),e.jsxs("section",{className:"w-full m-0 shadow-none bg-primary-green/10 ",children:[" ",e.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 text-center mb-16 tracking-tight",children:"Meet Our Team"})," ",e.jsxs("div",{className:"flex flex-wrap gap-8 justify-center",children:[e.jsxs("div",{className:"w-full max-w-xs bg-white text-center rounded-xl p-8 transition-transform duration-300 hover:scale-105 hover:shadow-xl shadow-md relative group",children:[" ",e.jsx("div",{className:"absolute inset-0 opacity-0 bg-primary-green/10 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"})," ",e.jsx("img",{src:"../../src/assets/Vignesh Chandran.jpg",alt:"Vicky",className:"w-32 h-32 object-cover rounded-full mb-6 mx-auto border-4 border-primary-green transition-transform duration-300 group-hover:rotate-12"})," ",e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 group-hover:text-primary-green transition-colors duration-300",children:"Vignesh C"}),e.jsx("p",{className:"text-gray-700 group-hover:text-primary-green transition-colors duration-300",children:"Full-Stack Developer"}),e.jsx("div",{className:"absolute inset-x-0 bottom-4 text-gray-500 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Passionate about coding and problem-solving"})," "]}),e.jsxs("div",{className:"w-full max-w-xs bg-white text-center rounded-xl p-8 transition-transform duration-300 hover:scale-105 hover:shadow-xl shadow-md relative group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 bg-primary-green/10 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsx("img",{src:"../../src/assets/portfolio.jpg",alt:"Aki",className:"w-32 h-32 object-cover rounded-full mb-6 mx-auto border-4 border-primary-green transition-transform duration-300 group-hover:rotate-12"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 group-hover:text-primary-green transition-colors duration-300",children:"Akilashwarran Prabaharan"}),e.jsx("p",{className:"text-gray-700 group-hover:text-primary-green transition-colors duration-300",children:"Full-Stack Developer"}),e.jsx("div",{className:"absolute inset-x-0 bottom-4 text-gray-500 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Creative thinker and developer"})]}),e.jsxs("div",{className:"w-full max-w-xs bg-white text-center rounded-xl p-8 transition-transform duration-300 hover:scale-105 hover:shadow-xl shadow-md relative group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 bg-primary-green/10 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsx("img",{src:"../../src/assets/Bharath Raj K.jpg",alt:"Bharath",className:"w-32 h-32 object-cover rounded-full mb-6 mx-auto border-4 border-primary-green transition-transform duration-300 group-hover:rotate-12"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 group-hover:text-primary-green transition-colors duration-300",children:"Bharath Raj"}),e.jsx("p",{className:"text-gray-700 group-hover:text-primary-green transition-colors duration-300",children:"Full-Stack Developer"}),e.jsx("div",{className:"absolute inset-x-0 bottom-4 text-gray-500 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Expert in modern web technologies"})]}),e.jsxs("div",{className:"w-full max-w-xs bg-white text-center rounded-xl p-8 transition-transform duration-300 hover:scale-105 hover:shadow-xl shadow-md relative group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 bg-primary-green/10 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsx("img",{src:"../../src/assets/Asha Kambarajan.png",alt:"Asha",className:"w-32 h-32 object-cover rounded-full mb-6 mx-auto border-4 border-primary-green transition-transform duration-300 group-hover:rotate-12"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 group-hover:text-primary-green transition-colors duration-300",children:"Asha K"}),e.jsx("p",{className:"text-gray-700 group-hover:text-primary-green transition-colors duration-300",children:"Full-Stack Developer"}),e.jsx("div",{className:"absolute inset-x-0 bottom-4 text-gray-500 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Innovative solutions specialist"})]}),e.jsxs("div",{className:"w-full max-w-xs bg-white text-center rounded-xl p-8 transition-transform duration-300 hover:scale-105 hover:shadow-xl shadow-md relative group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 bg-primary-green/10 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsx("img",{src:"../../src/assets/Vijayalakshmi Gandhi.jpg",alt:"Viji",className:"w-32 h-32 object-cover rounded-full mb-6 mx-auto border-4 border-primary-green transition-transform duration-300 group-hover:rotate-12"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 group-hover:text-primary-green transition-colors duration-300",children:"Vijayalakshmi Gandhi"}),e.jsx("p",{className:"text-gray-700 group-hover:text-primary-green transition-colors duration-300",children:"Full-Stack Developer"}),e.jsx("div",{className:"absolute inset-x-0 bottom-4 text-gray-500 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Focused on performance and scalability"})]})]})]}),e.jsx(re,{})]})},Mt=()=>{const[s,i]=t.useState([]),[n,x]=t.useState(null),[r,f]=t.useState(null),[o,d]=t.useState(!1),u=B();t.useEffect(()=>{(async()=>{var S;try{const p=localStorage.getItem("token"),g=await P.get("http://localhost:8000/controller/Admin/getUserDetails.php",{headers:{Authorization:`Bearer ${p}`}});if(g.data.status==="success"){const v=g.data.user.id;f(v),N(v)}else x(g.data.message)}catch(p){console.error("Error fetching user details:",((S=p.response)==null?void 0:S.data)||p.message),x("Error fetching user details")}})()},[]);const N=async y=>{var S;try{const p=await P.get("http://localhost:8000/controller/cart.php",{params:{id:y}});p.data.error?(console.error("Error from server:",p.data.error),x(p.data.error),i([])):Array.isArray(p.data)?(i(p.data),x(null)):(console.error("Unexpected response format:",p.data),x("Unexpected response format"),i([]))}catch(p){console.error("Error fetching cart items:",((S=p.response)==null?void 0:S.data)||p.message),x("Error fetching cart items"),i([])}},w=async(y,S)=>{if(!y||S===void 0){console.error("Missing parameters for updateQuantity");return}try{const p=await P.post("http://localhost:8000/controller/cart.php",{cart_item_id:y,quantity:S,action:"update_quantity"},{headers:{"Content-Type":"application/json"}});p.data.success?N(r):console.error("Error updating cart item quantity:",p.data.message)}catch(p){console.error("Error updating cart item quantity:",p.message)}},b=async y=>{if(!y){console.error("Missing cartItemId for deleteCartItem");return}try{const S=await P.delete("http://localhost:8000/controller/cart.php",{data:{cart_item_id:y},headers:{"Content-Type":"application/json"}});S.data.success?N(r):console.error("Error deleting cart item:",S.data.message)}catch(S){console.error("Error deleting cart item:",S.message)}},h=async(y,S,p)=>{if(o)return;const g=Math.max(p+S,0);if(g!==p){d(!0);try{if(!r){console.error("User ID is not defined");return}g===0?await b(y):await w(y,g),await N(r)}catch(v){console.error("Error in handleQuantityChange:",v.message)}finally{d(!1)}}},c=()=>{u("/checkout")},a=()=>s.reduce((S,p)=>{const g=parseFloat(p.special_price)||0,v=parseInt(p.quantity,10)||0;return S+g*v},0).toFixed(2),m=()=>5,l=()=>(parseFloat(a())+m()).toFixed(2);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{})," ",e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"My Shopping Cart"}),n&&e.jsx("div",{className:"text-red-600 mt-4 text-center",children:n}),s.length===0?e.jsx("p",{className:"mt-6 text-center text-gray-500",children:"Your cart is empty."}):e.jsxs("div",{className:"rounded-lg overflow-hidden",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("table",{className:"w-11/12 bg-white shadow-md rounded-lg mt-6",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(y=>e.jsxs("tr",{className:"relative group hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:`http://localhost:8000/assets/images/${y.images}`,alt:y.product_name,className:"w-16 h-16 object-cover mr-4 rounded",onError:S=>{S.target.onerror=null,S.target.src="https://via.placeholder.com/64"}}),e.jsx("span",{children:y.product_name})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["1 x $",y.special_price]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>h(y.cart_item_id,-1,y.quantity),className:"px-3 py-0.5 border border-gray-400 rounded-l-md text-green-700 hover:bg-green-100 transition duration-200 ease-in-out",disabled:y.quantity<=0||o,children:e.jsx("span",{className:"text-xl font-semibold",children:"-"})}),e.jsx("span",{className:"px-4 text-lg font-medium",children:y.quantity}),e.jsx("button",{onClick:()=>h(y.cart_item_id,1,y.quantity),className:"px-3 py-0.5 border border-gray-400 rounded-r-md text-green-700 hover:bg-green-200 transition duration-200 ease-in-out",disabled:o,children:e.jsx("span",{className:"text-xl font-semibold",children:"+"})})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(parseFloat(y.special_price)*parseInt(y.quantity)).toFixed(2)]}),e.jsx("button",{onClick:()=>b(y.cart_item_id),className:"absolute right-2 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 text-red-600 border border-red-600 rounded-full p-2 transition-opacity duration-200",children:e.jsx(De,{icon:Ue})})]},y.cart_item_id))})]})}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"relative max-w-md bg-white shadow-md rounded-lg p-6 ml-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["$",a()]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[e.jsx("span",{children:"Delivery:"}),e.jsxs("span",{children:["$",m()]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 border-t pt-4",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",l()]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:c,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-200 ease-in-out",children:"Checkout"})})]})})]})]})]})},qt=()=>e.jsxs("div",{className:"bg-white",children:[" ",e.jsx(Y,{}),e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-gray-800 mb-4",children:"About Us"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Discover who we are and what we stand for"})]}),e.jsxs("section",{className:"mb-12 shadow-none flex flex-col gap-32 md:flex-row items-center px-4 md:px-12",children:[" ",e.jsxs("div",{className:"md:w-1/2 text-left space-y-6 mb-8 md:mb-0",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Welcome to Aizen, your premier destination for the latest in e-commerce technology. Our platform is designed to offer a seamless shopping experience with a user-friendly interface and robust features to help you find exactly what you need."}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"At Aizen, we pride ourselves on delivering high-quality products and exceptional customer service. Our advanced search capabilities, intuitive navigation, and comprehensive product details ensure you have all the information you need to make informed purchasing decisions."})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("img",{src:"../../../src/assets/customer.png",alt:"Sellers stocking products",className:"w-full h-auto object-cover rounded-lg  hover:scale-105"})," "]})]}),e.jsxs("section",{className:"mb-12 shadow-none flex flex-col gap-48 md:flex-row items-center px-4 md:px-12",children:[" ",e.jsxs("div",{className:"md:w-1/3 order-2 md:order-1",children:[e.jsx("img",{src:"../../../src/assets/10158.jpg",alt:"Store selection",className:"w-full h-auto object-cover rounded-lg  hover:scale-105"})," "]}),e.jsxs("div",{className:"md:w-1/2 order-1 md:order-2 text-left space-y-6",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"For Sellers"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Sellers can stock up their products to the store nearest to them and have their own portal where they can manage their products, access sales reports, and view product orders charts."})]})]}),e.jsxs("section",{className:"mb-12 shadow-none flex flex-col gap-48 md:flex-row items-center px-4 md:px-12",children:[" ",e.jsxs("div",{className:"md:w-1/2 text-left space-y-6",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"For Users"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Users can select which hub/store they want to purchase from, and easily upgrade their account from a regular user to a seller via their profile page. Our platform is designed to be simple and intuitive for all users."})]}),e.jsxs("div",{className:"md:w-1/3",children:[e.jsx("img",{src:"../../../src/assets/22949.jpg",alt:"User selecting store",className:"w-full h-auto object-cover rounded-lg  hover:scale-105"})," "]})]}),e.jsxs("section",{className:"mb-12 bg-primary-green shadow-none text-center px-4 md:px-12",children:[" ",e.jsx("p",{className:"text-lg text-white ",children:"Enjoy delivery within 20 minutes if products are ordered from a single store, ensuring quick and efficient service right to your doorstep."})]}),e.jsx(re,{})]}),Tt=()=>e.jsx(Me,{children:e.jsx("div",{children:e.jsxs(se,{children:[e.jsx(F,{path:"/home/*",element:e.jsx(he,{})}),e.jsx(F,{path:"/*",element:e.jsx(he,{})}),e.jsx(F,{path:"/about",element:e.jsx(qt,{})}),e.jsx(F,{path:"/aizen/*",element:e.jsx(At,{})}),e.jsx(F,{path:"/product/:id",element:e.jsx(Lt,{})}),e.jsx(F,{path:"/aizen-admin/*",element:e.jsx(dt,{})}),e.jsx(F,{path:"/aizen-seller/*",element:e.jsx(pt,{})}),e.jsx(F,{path:"/login",element:e.jsx(ze,{})}),e.jsx(F,{path:"/google-signup",element:e.jsx(ce,{})}),e.jsx(F,{path:"/sign",element:e.jsx(Ve,{})}),e.jsx(F,{path:"/profile",element:e.jsx(We,{})}),e.jsx(F,{path:"/access-denied",element:e.jsx(Ft,{})}),e.jsx(F,{path:"/cart",element:e.jsx(Se,{})}),e.jsx(F,{path:"/checkout",element:e.jsx(Dt,{})}),e.jsx(F,{path:"/viewcart",element:e.jsx(Mt,{})})]})})}),$t=()=>e.jsxs("div",{className:"App ",children:[e.jsx(Tt,{}),e.jsx(J,{})]});qe.render(e.jsx(Te.StrictMode,{children:e.jsx(ue,{clientId:"455299441373-uj8s3cffg1aptgb5f81ov0t7tkhk346g.apps.googleusercontent.com",children:e.jsx($t,{})})}),document.getElementById("root"));
